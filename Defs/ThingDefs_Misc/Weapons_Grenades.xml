<?xml version="1.0" encoding="utf-8" ?>
<ThingDefs>

  <!-- ==================== Bases ========================== -->

  <ThingDef Name="BaseEquipment" Abstract="True">
    <equipmentType>Primary</equipmentType>
    <label>equipment lacks label</label>
    <thingClass>ThingWithComps</thingClass>
    <category>Item</category>
    <useHitPoints>true</useHitPoints>
    <selectable>true</selectable>
    <drawGUIOverlay>true</drawGUIOverlay>
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <Flammability>1.0</Flammability>
      <DeteriorationRate>2</DeteriorationRate>
      <SellPriceFactor>0.5</SellPriceFactor>
    </statBases>
    <altitudeLayer>Item</altitudeLayer>
    <description>Equipment lacks desc.</description>
    <comps>
      <li Class="CompProperties_Forbiddable"/>
      <li>
        <compClass>CompEquippable</compClass>
      </li>
    </comps>
    <alwaysHaulable>true</alwaysHaulable>
    <tickerType>Never</tickerType>
  </ThingDef>

  <ThingDef Class="CombatExtended.AmmoDef" Name="BaseGrenadeEquipment" ParentName="BaseEquipment" Abstract="True">
    <thingClass>CombatExtended.AmmoThing</thingClass>
    <stackLimit>75</stackLimit>
    <weaponTags>
      <li>CE_AI_Grenade</li>
      <li>CE_OneHandedWeapon</li>
    </weaponTags>
    <tickerType>Normal</tickerType>
    <resourceReadoutPriority>First</resourceReadoutPriority>
  </ThingDef>

  <ThingDef Name="BaseGrenadeProjectile" Abstract="True">
    <category>Projectile</category>
    <altitudeLayer>Projectile</altitudeLayer>
    <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
    <label>projectile</label>
    <tickerType>Normal</tickerType>
    <useHitPoints>False</useHitPoints>
    <neverMultiSelect>True</neverMultiSelect>
    <graphicData>
      <shaderType>Transparent</shaderType>
    </graphicData>
    <projectile Class="CombatExtended.ProjectilePropertiesCE">
      <speed>24</speed>
      <flyOverhead>false</flyOverhead>
    </projectile>
  </ThingDef>


  <!-- ==================== Frag grenade ========================== -->

  <ThingDef ParentName="BaseGrenadeProjectile">
    <defName>Proj_GrenadeFrag</defName>
    <label>frag grenade</label>
    <graphicData>
      <texPath>Things/Projectile/Grenades/Frag</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <explosionRadius>1.5</explosionRadius >
      <damageDef>Bomb</damageDef>
      <damageAmountBase>80</damageAmountBase>
      <explosionDelay>60</explosionDelay>
      <dropsCasings>true</dropsCasings>
      <casingMoteDefname>Mote_GrenadePin</casingMoteDefname>
    </projectile>
    <comps>
      <li Class="CombatExtended.CompProperties_ExplosiveCE">
        <fragSpeedFactor>0.5</fragSpeedFactor>
        <fragments>
          <Fragment_GrenadeFragMedium>250</Fragment_GrenadeFragMedium>
        </fragments>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BaseGrenadeEquipment">
    <defName>Weapon_GrenadeFrag</defName>
    <equipmentType>Primary</equipmentType>
    <label>frag grenade</label>
    <description>Old-school fragmentation grenade.</description>
    <graphicData>
      <texPath>Things/Ammo/HandGrenades/Frag</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <soundInteract>InteractGrenade</soundInteract>
    <techLevel>Industrial</techLevel>
    <statBases>
      <MarketValue>5.25</MarketValue>
      <SightsEfficiency>0.15</SightsEfficiency>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>GrenadeDestructive</li>
    </weaponTags>
    <thingCategories>
      <li>Grenades</li>
    </thingCategories>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <label>throw frag grenade</label>
        <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <range>10.0</range>
        <warmupTime>0.8</warmupTime>
        <noiseRadius>4</noiseRadius>
        <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
        <soundCast>ThrowGrenade</soundCast>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
        <projectileDef>Proj_GrenadeFrag</projectileDef>
        <onlyManualCast>true</onlyManualCast>
      </li>
    </verbs>
    <comps>
      <li Class="CombatExtended.CompProperties_ExplosiveCE">
        <explosionDamage>40</explosionDamage>
        <explosionDamageDef>Bomb</explosionDamageDef>
        <explosionRadius>1.5</explosionRadius>
        <fragSpeedFactor>0.5</fragSpeedFactor>
        <fragments>
          <Fragment_GrenadeFragMedium>250</Fragment_GrenadeFragMedium>
        </fragments>
      </li>
    </comps>
  </ThingDef>



  <!-- ==================== Molotov cocktail ========================== -->

  <ThingDef ParentName="BaseGrenadeProjectile">
    <defName>Proj_GrenadeMolotov</defName>
    <label>molotov cocktail</label>
    <thingClass>CombatExtended.Projectile_FireTrail</thingClass>
    <graphicData>
      <texPath>Things/Projectile/Grenades/Molotov</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <explosionRadius>1.5</explosionRadius>
      <damageDef>Flame</damageDef>
      <damageAmountBase>30</damageAmountBase>
      <preExplosionSpawnThingDef>FilthFuel</preExplosionSpawnThingDef>
        <explosionSpawnChance>1</explosionSpawnChance>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="BaseGrenadeEquipment">
    <defName>Weapon_GrenadeMolotov</defName>
    <equipmentType>Primary</equipmentType>
    <label>molotov cocktail</label>
    <description>Glass bottle filled with flammable liquid, with a burning cloth in the neck. A favorite weapon of hooligans and desperate warriors from rim to rim.</description>
    <graphicData>
      <texPath>Things/Ammo/HandGrenades/Molotov</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <soundInteract>InteractMolotovCocktail</soundInteract>
    <techLevel>Industrial</techLevel>
    <statBases>
      <MarketValue>2.10</MarketValue>
      <SightsEfficiency>0.15</SightsEfficiency>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>GrenadeDestructive</li>
    </weaponTags>
    <thingCategories>
      <li>Grenades</li>
    </thingCategories>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <label>throw molotov</label>
        <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <range>10</range>
        <warmupTime>0.8</warmupTime>
        <noiseRadius>4</noiseRadius>
        <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
        <ai_IsIncendiary>true</ai_IsIncendiary>
        <soundCast>ThrowMolotovCocktail</soundCast>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
        <projectileDef>Proj_GrenadeMolotov</projectileDef>
        <onlyManualCast>true</onlyManualCast>
      </li>
    </verbs>
    <comps>
      <li Class="CombatExtended.CompProperties_ExplosiveCE">
        <explosionDamage>1</explosionDamage>
        <explosionDamageDef>Flame</explosionDamageDef>
        <explosionRadius>0.5</explosionRadius>
        <preExplosionSpawnThingDef>FilthFuel</preExplosionSpawnThingDef>
        <explosionSpawnChance>1</explosionSpawnChance>
      </li>
    </comps>
  </ThingDef>

  <!-- ==================== EMP grenade ========================== -->

  <ThingDef ParentName="BaseGrenadeProjectile">
    <defName>Proj_GrenadeEMP</defName>
    <label>EMP grenade</label>
    <graphicData>
      <texPath>Things/Projectile/Grenades/EMP</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <explosionRadius>3</explosionRadius>
      <damageDef>EMP</damageDef>
      <damageAmountBase>40</damageAmountBase>
      <explosionDelay>60</explosionDelay>
      <dropsCasings>true</dropsCasings>
      <casingMoteDefname>Mote_GrenadePin</casingMoteDefname>
    </projectile>
    <comps>
      <li Class="CombatExtended.CompProperties_ExplosiveCE">
        <explosionDamage>10</explosionDamage>
        <explosionDamageDef>Electrical</explosionDamageDef>
        <explosionRadius>4</explosionRadius>
        <soundExplode>Explosion_Bomb</soundExplode>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="BaseGrenadeEquipment">
    <defName>Weapon_GrenadeEMP</defName>
    <equipmentType>Primary</equipmentType>
    <label>EMP grenade</label>
    <description>Electromagnetic pulse grenade damaging to electronic equipment.</description>
    <graphicData>
      <texPath>Things/Ammo/HandGrenades/EMP</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <soundInteract>InteractGrenade</soundInteract>
    <techLevel>Industrial</techLevel>
    <statBases>
      <MarketValue>7.65</MarketValue>
      <SightsEfficiency>0.15</SightsEfficiency>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>GrenadeEMP</li>
    </weaponTags>
    <thingCategories>
      <li>Grenades</li>
    </thingCategories>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <label>throw EMP grenade</label>
        <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <range>10</range>
        <warmupTime>0.8</warmupTime>
        <noiseRadius>4</noiseRadius>
        <ai_IsBuildingDestroyer>false</ai_IsBuildingDestroyer>
        <soundCast>ThrowGrenade</soundCast>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
        <projectileDef>Proj_GrenadeEMP</projectileDef>
        <onlyManualCast>true</onlyManualCast>
      </li>
    </verbs>
  </ThingDef>

  <!-- ==================== Flashbang grenade ========================== -->

  <ThingDef ParentName="BaseGrenadeProjectile">
    <defName>Proj_GrenadeFlashbang</defName>
    <label>flashbang grenade</label>
    <graphicData>
      <texPath>Things/Projectile/Grenades/Flashbang</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <explosionRadius>3.5</explosionRadius>
      <damageDef>Stun</damageDef>
      <damageAmountBase>50</damageAmountBase>
      <explosionDelay>60</explosionDelay>
      <soundExplode>Explosion_Stun</soundExplode>
      <dropsCasings>true</dropsCasings>
      <casingMoteDefname>Mote_GrenadePin</casingMoteDefname>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="BaseGrenadeEquipment">
    <defName>Weapon_GrenadeFlashbang</defName>
    <equipmentType>Primary</equipmentType>
    <label>flashbang grenade</label>
    <description>Pyrotechnic charge designed to produce a blinding flash of light and loud noise, temporarily blinding and disorienting anyone nearby.</description>
    <graphicData>
      <texPath>Things/Ammo/HandGrenades/Flashbang</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <soundInteract>InteractGrenade</soundInteract>
    <techLevel>Industrial</techLevel>
    <statBases>
      <MarketValue>4.85</MarketValue>
      <SightsEfficiency>0.15</SightsEfficiency>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>CE_GrenadeFlashbang</li>
      <li>CE_AI_Nonlethal</li>
    </weaponTags>
    <thingCategories>
      <li>Grenades</li>
    </thingCategories>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <label>throw flashbang grenade</label>
        <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <range>10</range>
        <warmupTime>0.8</warmupTime>
        <noiseRadius>4</noiseRadius>
        <ai_IsBuildingDestroyer>false</ai_IsBuildingDestroyer>
        <soundCast>ThrowGrenade</soundCast>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
        <projectileDef>Proj_GrenadeFlashbang</projectileDef>
        <onlyManualCast>true</onlyManualCast>
      </li>
    </verbs>
    <comps>
      <li Class="CombatExtended.CompProperties_ExplosiveCE">
        <explosionDamage>25</explosionDamage>
        <explosionDamageDef>Stun</explosionDamageDef>
        <explosionRadius>3.5</explosionRadius>
        <soundExplode>Explosion_Stun</soundExplode>
      </li>
    </comps>
  </ThingDef>


  <!-- ==================== Stick bomb ========================== -->

  <ThingDef ParentName="BaseGrenadeProjectile">
    <defName>Proj_GrenadeStickBomb</defName>
    <label>stick bomb</label>
    <graphicData>
      <texPath>Things/Projectile/Grenades/StickBomb</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <explosionRadius>1.5</explosionRadius >
      <damageDef>Bomb</damageDef>
      <damageAmountBase>50</damageAmountBase>
      <explosionDelay>90</explosionDelay>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="BaseGrenadeEquipment">
    <defName>Weapon_GrenadeStickBomb</defName>
    <equipmentType>Primary</equipmentType>
    <label>stick bomb</label>
    <description>Primitive fuse-lit explosive. A favorite of tribals who use these to fight technologically advanced enemies with heavy armor.</description>
    <graphicData>
      <texPath>Things/Ammo/HandGrenades/StickBomb</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <soundInteract>InteractGrenade</soundInteract>
    <techLevel>Industrial</techLevel>
    <statBases>
      <MarketValue>5.25</MarketValue>
      <SightsEfficiency>0.15</SightsEfficiency>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>GrenadeDestructive</li>
      <li>Neolithic</li>
    </weaponTags>
    <thingCategories>
      <li>Grenades</li>
    </thingCategories>
    <verbs>
      <li Class="CombatExtended.VerbPropertiesCE">
        <label>throw stick bomb</label>
        <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <range>10.0</range>
        <warmupTime>0.8</warmupTime>
        <noiseRadius>4</noiseRadius>
        <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
        <soundCast>ThrowGrenade</soundCast>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
        <projectileDef>Proj_GrenadeStickBomb</projectileDef>
        <onlyManualCast>true</onlyManualCast>
      </li>
    </verbs>
    <comps>
      <li Class="CombatExtended.CompProperties_ExplosiveCE">
        <explosionDamage>25</explosionDamage>
        <explosionDamageDef>Bomb</explosionDamageDef>
        <explosionRadius>1.5</explosionRadius>
      </li>
    </comps>
  </ThingDef>

</ThingDefs>
