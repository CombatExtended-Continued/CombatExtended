<?xml version="1.0" encoding="utf-8" ?>
<Patch>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Weapons Expanded</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>

        <!-- === Battle Axe === -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_BattleAxe"]/statBases</xpath>
          <value>
            <Bulk>13</Bulk>
            <MeleeCounterParryBonus>1.5</MeleeCounterParryBonus>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_BattleAxe"]</xpath>
          <value>
            <equippedStatOffsets>
              <MeleeCritChance>0.3</MeleeCritChance>
              <MeleeParryChance>1.6</MeleeParryChance>
              <MeleeDodgeChance>0.56</MeleeDodgeChance>
            </equippedStatOffsets>
          </value>
        </li>

        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_BattleAxe"]/tools</xpath>
          <value>
            <tools>
              <li Class="CombatExtended.ToolCE">
                <label>edge</label>
                <capacities>
                  <li>Cut</li>
                </capacities>
                <power>48</power>
                <cooldownTime>3.4</cooldownTime>
                <chanceFactor>1.165</chanceFactor>
                <armorPenetrationBlunt>10.4</armorPenetrationBlunt>
                <armorPenetrationSharp>1.8</armorPenetrationSharp>
                <linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
              </li>
              <li Class="CombatExtended.ToolCE">
                <label>point</label>
                <capacities>
                  <li>Stab</li>
                </capacities>
                <power>41</power>
                <cooldownTime>1.8</cooldownTime>
                <chanceFactor>1.165</chanceFactor>
                <armorPenetrationBlunt>2.3</armorPenetrationBlunt>
                <armorPenetrationSharp>2.2</armorPenetrationSharp>
                <linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
              </li>
            </tools>
          </value>
        </li>

        <!-- === Halberd === -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Halberd"]/statBases</xpath>
          <value>
            <Bulk>13</Bulk>
            <MeleeCounterParryBonus>1.08</MeleeCounterParryBonus>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Halberd"]</xpath>
          <value>
            <equippedStatOffsets>
              <MeleeCritChance>0.2</MeleeCritChance>
              <MeleeParryChance>1.45</MeleeParryChance>
              <MeleeDodgeChance>0.6</MeleeDodgeChance>
            </equippedStatOffsets>
          </value>
        </li>

        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Halberd"]/tools</xpath>
          <value>
            <tools>
              <li Class="CombatExtended.ToolCE">
                <label>edge</label>
                <capacities>
                  <li>Cut</li>
                </capacities>
                <power>47</power>
                <cooldownTime>3.4</cooldownTime>
                <chanceFactor>1.165</chanceFactor>
                <armorPenetrationBlunt>8.3</armorPenetrationBlunt>
                <armorPenetrationSharp>1.69</armorPenetrationSharp>
                <linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
              </li>
              <li Class="CombatExtended.ToolCE">
                <label>point</label>
                <capacities>
                  <li>Stab</li>
                </capacities>
                <power>40</power>
                <cooldownTime>1.4</cooldownTime>
                <chanceFactor>1.165</chanceFactor>
                <armorPenetrationBlunt>2.1</armorPenetrationBlunt>
                <armorPenetrationSharp>2.15</armorPenetrationSharp>
                <linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
              </li>
            </tools>
          </value>
        </li>

        <!-- === Hammer === -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Hammer"]/statBases</xpath>
          <value>
            <Bulk>10</Bulk>
            <MeleeCounterParryBonus>1.48</MeleeCounterParryBonus>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Hammer"]/equippedStatOffsets</xpath>
          <value>
            <MeleeCritChance>0.9</MeleeCritChance>
            <MeleeParryChance>1.11</MeleeParryChance>
            <MeleeDodgeChance>0.67</MeleeDodgeChance>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Hammer"]/weaponTags</xpath>
          <value>
            <li>CE_OneHandedWeapon</li>
          </value>
        </li>

        <li Class="PatchOperationReplace">
          <xpath>/Defs/ThingDef[defName="VWE_MeleeWeapon_Hammer"]/tools</xpath>
          <value>
            <tools>
              <li Class="CombatExtended.ToolCE">
                <label>head</label>
                <capacities>
                  <li>Blunt</li>
                </capacities>
                <power>20</power>
                <cooldownTime>2.9</cooldownTime>
                <chanceFactor>1.33</chanceFactor>
                <armorPenetrationBlunt>8.1</armorPenetrationBlunt>
                <linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
              </li>
            </tools>
          </value>
        </li>

        <!-- === Pickaxe === -->
        <li Class="PatchOperationAdd">
          <xpath>Defs/ThingDef[defName="VWE_MeleeWeapon_Pickaxe"]/statBases</xpath>
          <value>
            <Bulk>3.9</Bulk>
            <MeleeCounterParryBonus>0.15</MeleeCounterParryBonus>
          </value>
        </li>

        <li Class="PatchOperationAdd">
          <xpath>Defs/ThingDef[defName="VWE_MeleeWeapon_Pickaxe"]/equippedStatOffsets</xpath>
          <value>
            <MeleeCritChance>0.20</MeleeCritChance>
            <MeleeParryChance>0.15</MeleeParryChance>
            <MeleeDodgeChance>0.2</MeleeDodgeChance>
          </value>
        </li>

        <li Class="PatchOperationReplace">
          <xpath>Defs/ThingDef[defName="VWE_MeleeWeapon_Pickaxe"]/tools</xpath>
          <value>
            <tools>
              <li Class="CombatExtended.ToolCE">
                <label>Head</label>
                <capacities>
                  <li>Blunt</li>
                </capacities>
                <power>23</power>
                <cooldownTime>1.8</cooldownTime>
                <chanceFactor>1.33</chanceFactor>
                <armorPenetrationBlunt>1.9</armorPenetrationBlunt>
                <armorPenetrationSharp>0.8</armorPenetrationSharp>
                <linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
              </li>
            </tools>
          </value>
        </li>
      </operations>
    </match>
  </Operation>

</Patch>