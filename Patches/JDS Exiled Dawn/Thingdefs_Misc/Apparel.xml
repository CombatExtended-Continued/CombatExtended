<?xml version="1.0" encoding="utf-8" ?>
<Patch>
  <Operation Class="PatchOperationSequence">
	<operations>
	  <li Class="PatchOperationFindMod">
			
		<mods><li>[JDS] Exiled Dawn</li><li>[JDS] The Forge - Exiled Dawn Armory</li></mods>
			
		<match Class="PatchOperationSequence">
		<operations>
			<!--Chestplate-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledChestPlate(AR)ArmorBase" or 
				@Name="JDSExiledChestPlateArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>9.6</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledChestPlate(AR)ArmorBase" or 
				@Name="JDSExiledChestPlateArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>24</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledChestPlateArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>14</Mass>
					<Bulk>25</Bulk>
					<WornBulk>12</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledChestPlate(AR)ArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>15</Mass>
					<Bulk>25</Bulk>
					<WornBulk>12</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[@Name="JDSExiledChestPlate(AR)ArmorBase" or 
				@Name="JDSExiledChestPlateArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="JDSExiledChestPlate(AR)ArmorBase"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<ReloadSpeed>0.1</ReloadSpeed>
				</value>
			</li>
			
			<!--Field Marshal Armor-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFieldMarshalARArmorBase" or 
				@Name="JDSExiledFieldMarshalArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>9.6</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFieldMarshalARArmorBase" or 
				@Name="JDSExiledFieldMarshalArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>24</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFieldMarshalArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>15</Mass>
					<Bulk>30</Bulk>
					<WornBulk>13</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFieldMarshalARArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>16</Mass>
					<Bulk>30</Bulk>
					<WornBulk>13</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[@Name="JDSExiledFieldMarshalARArmorBase" or 
				@Name="JDSExiledFieldMarshalArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="JDSExiledFieldMarshalARArmorBase"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<ReloadSpeed>0.1</ReloadSpeed>
				</value>
			</li>
			
			<!--Foot Soldier-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFootSoldierARArmorBase" or 
				@Name="JDSExiledFootSoldierArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>9.6</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFootSoldierARArmorBase" or 
				@Name="JDSExiledFootSoldierArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>24</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFootSoldierArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>15</Mass>
					<Bulk>30</Bulk>
					<WornBulk>13</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledFootSoldierARArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>16</Mass>
					<Bulk>30</Bulk>
					<WornBulk>13</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[@Name="JDSExiledFootSoldierARArmorBase" or 
				@Name="JDSExiledFootSoldierArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="JDSExiledFootSoldierARArmorBase"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<ReloadSpeed>0.1</ReloadSpeed>
				</value>
			</li>
			
			<!--Plate Gambeson : Stronger in vanilla but costs less. No idea why.-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledPlateGambesonARArmorBase" or 
				@Name="JDSExiledPlateGambesonArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>12</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledPlateGambesonARArmorBase" or 
				@Name="JDSExiledPlateGambesonArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>30</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledPlateGambesonArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>22</Mass>
					<Bulk>30</Bulk>
					<WornBulk>22</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledPlateGambesonARArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>23</Mass>
					<Bulk>30</Bulk>
					<WornBulk>22</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[@Name="JDSExiledPlateGambesonARArmorBase" or 
				@Name="JDSExiledPlateGambesonArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="JDSExiledPlateGambesonARArmorBase"]/equippedStatOffsets</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<ReloadSpeed>0.1</ReloadSpeed>
				</value>
			</li>
			
			<!--King Armor-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKingArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>24</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKingArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>65</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKingArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>65</Mass>
					<Bulk>100</Bulk>
					<WornBulk>25</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKingArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<CarryWeight>60</CarryWeight>
				</value>
			</li>
			
			<!--Knight Armor-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>24</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>55</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>60</Mass>
					<Bulk>100</Bulk>
					<WornBulk>25</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<CarryWeight>50</CarryWeight>
				</value>
			</li>
			
			<!--Knight Captain Armor-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightCaptainArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>24</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightCaptainArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>55</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightCaptainArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>60</Mass>
					<Bulk>100</Bulk>
					<WornBulk>25</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledKnightCaptainArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<CarryWeight>65</CarryWeight>
				</value>
			</li>
			
			<!--Price Change-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="Colored_King_Armor" or
				defName="Colored_Knight_Armor" or
				defName="Colored_Knight_Captain"
				]/costList/Plasteel</xpath>
				<value>
					<Plasteel>190</Plasteel>
					<DevilstrandCloth>50</DevilstrandCloth>
				</value>
			</li>
			
			<!--Scholar Armor-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledScholarArmorBase"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>18</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledScholarArmorBase"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>45</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledScholarArmorBase"]/statBases/Mass</xpath>
				<value>
					<Mass>50</Mass>
					<Bulk>100</Bulk>
					<WornBulk>25</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[@Name="JDSExiledScholarArmorBase"]/equippedStatOffsets/MoveSpeed</xpath>
				<value>
					<CarryBulk>10</CarryBulk>
					<CarryWeight>60</CarryWeight>
				</value>
			</li>
			
			<!--Price Change-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="Colored_Scholar_Armor"
				]/costList/Steel</xpath>
				<value>
					<Plasteel>100</Plasteel>
					<Steel>200</Steel>
					<DevilstrandCloth>40</DevilstrandCloth>
				</value>
			</li>
			
			<!--Helmets-->
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Casque_Helmet"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>7</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Casque_Helmet"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>17.5</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Casque_Helmet"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>2</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ExiledDawn_FootSoldier_Headgear" or
				defName="ExiledDawn_Defender_Helmet" or
				defName="ExiledDawn_Headguard"
				]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>9</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ExiledDawn_FootSoldier_Headgear" or
				defName="ExiledDawn_Defender_Helmet" or
				defName="ExiledDawn_Headguard"
				]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>22.5</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="ExiledDawn_FootSoldier_Headgear" or
				defName="ExiledDawn_Defender_Helmet" or
				defName="ExiledDawn_Headguard"
				]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>3</WornBulk>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Knight_Headgear"]/statBases/ArmorRating_Sharp</xpath>
				<value>
					<ArmorRating_Sharp>19.8</ArmorRating_Sharp>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Knight_Headgear"]/statBases/ArmorRating_Blunt</xpath>
				<value>
					<ArmorRating_Blunt>49.5</ArmorRating_Blunt>
				</value>
			</li>
			
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Knight_Headgear"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>3</WornBulk>
				</value>
			</li>

			<li Class="PatchOperationConditional">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Knight_Headgear"]/apparel/immuneToToxGasExposure</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="ExiledDawn_Knight_Headgear"]/apparel</xpath>
					<value>
						<immuneToToxGasExposure>true</immuneToToxGasExposure>
					</value>
				</nomatch>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="ExiledDawn_Knight_Headgear"]/equippedStatOffsets</xpath>
				<value>
					<SmokeSensitivity>-1</SmokeSensitivity>
				</value>
			</li>
			
		</operations>
		</match>	
	  </li>
	</operations>	
  </Operation>
</Patch>
