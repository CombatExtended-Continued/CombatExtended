<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>[DV] Makeshift Melee Weapons</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- === Makeshift Hammer === -->
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftHammer"]/statBases</xpath>
					<value>
						<Bulk>5</Bulk>
						<MeleeCounterParryBonus>1.52</MeleeCounterParryBonus>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftHammer"]</xpath>
					<value>
						<equippedStatOffsets>
							<MeleeCritChance>0.9</MeleeCritChance>
							<MeleeParryChance>1.11</MeleeParryChance>
							<MeleeDodgeChance>0.65</MeleeDodgeChance>
						</equippedStatOffsets>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftHammer"]/weaponTags</xpath>
					<value>
						<li>CE_OneHandedWeapon</li>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftHammer"]/tools</xpath>
					<value>
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>head</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>19</power>
								<cooldownTime>2.42</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>7.6</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>head</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>17</power>
								<cooldownTime>2.22</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>7.4</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>head</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>15</power>
								<cooldownTime>2.02</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>7.05</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
							</li>
						</tools>
					</value>
				</li>

				<!-- ========== Makeshift Mace ========== -->

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftMace"]/tools</xpath>
					<value>
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>handle</label>
								<capacities>
									<li>Poke</li>
								</capacities>
								<power>2</power>
								<cooldownTime>1.59</cooldownTime>
								<armorPenetrationBlunt>0.675</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>head</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>12</power>
								<cooldownTime>3.05</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>3.15</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>head</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>10</power>
								<cooldownTime>2.97</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>2.92</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>head</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>8</power>
								<cooldownTime>2.79</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>2.7</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
							</li>
						</tools>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftMace"]/statBases</xpath>
					<value>
						<Bulk>4</Bulk>
						<MeleeCounterParryBonus>0.26</MeleeCounterParryBonus>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftMace"]</xpath>
					<value>
						<equippedStatOffsets>
							<MeleeCritChance>0.42</MeleeCritChance>
							<MeleeParryChance>0.24</MeleeParryChance>
							<MeleeDodgeChance>0.18</MeleeDodgeChance>
						</equippedStatOffsets>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftMace"]/weaponTags</xpath>
					<value>
						<li>CE_OneHandedWeapon</li>
					</value>
				</li>

				<!-- ========== Makeshift Scythe ========== -->

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftScythe"]/tools</xpath>
					<value>
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>handle</label>
								<capacities>
									<li>Poke</li>
								</capacities>
								<power>2</power>
								<cooldownTime>1.44</cooldownTime>
								<armorPenetrationBlunt>0.425</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>edge</label>
								<capacities>
									<li>Cut</li>
								</capacities>
								<power>20</power>
								<cooldownTime>1.54</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>0.976</armorPenetrationBlunt>
								<armorPenetrationSharp>0.44</armorPenetrationSharp>
								<linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>edge</label>
								<capacities>
									<li>Cut</li>
								</capacities>
								<power>16</power>
								<cooldownTime>1.44</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>0.916</armorPenetrationBlunt>
								<armorPenetrationSharp>0.40</armorPenetrationSharp>
								<linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>edge</label>
								<capacities>
									<li>Cut</li>
								</capacities>
								<power>12</power>
								<cooldownTime>1.24</cooldownTime>
								<chanceFactor>1.33</chanceFactor>
								<armorPenetrationBlunt>0.81</armorPenetrationBlunt>
								<armorPenetrationSharp>0.34</armorPenetrationSharp>
								<linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
							</li>
						</tools>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftScythe"]/statBases</xpath>
					<value>
						<Bulk>3.85</Bulk>
						<MeleeCounterParryBonus>0.30</MeleeCounterParryBonus>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftScythe"]</xpath>
					<value>
						<equippedStatOffsets>
							<MeleeCritChance>0.2</MeleeCritChance>
							<MeleeParryChance>0.35</MeleeParryChance>
							<MeleeDodgeChance>0.2</MeleeDodgeChance>
						</equippedStatOffsets>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="DV_MakeshiftScythe"]/weaponTags</xpath>
					<value>
						<li>CE_OneHandedWeapon</li>
					</value>
				</li>

			</operations>
		</match>
	</Operation>
</Patch>