<?xml version="1.0" encoding="utf-8" ?>

<Patch>

	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>Vali's Charged Arsenal - Eltex Series</li>
    </mods>
		<match Class="PatchOperationSequence">
			<operations>
			
		<!-- Knife -->	

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaDagger"]/tools</xpath>
			<value>
				<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>1</power>
							<cooldownTime>1.26</cooldownTime>
							<chanceFactor>0.15</chanceFactor>
							<armorPenetrationBlunt>0.250</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>blade</label>
							<capacities>
								<li>Cut</li>
							</capacities>
							<power>17</power>
							<cooldownTime>1.05</cooldownTime>
							<armorPenetrationBlunt>0.72</armorPenetrationBlunt>
							<armorPenetrationSharp>16.56</armorPenetrationSharp>
							<linkedBodyPartsGroup>Blade</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>point</label>
							<capacities>
								<li>Stab</li>
							</capacities>
							<power>12</power>
							<cooldownTime>0.84</cooldownTime>
							<armorPenetrationBlunt>0.565</armorPenetrationBlunt>
							<armorPenetrationSharp>19.64</armorPenetrationSharp>
							<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
						</li>					
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaDagger"]/statBases</xpath>
			<value>
				<Bulk>1</Bulk>
				<MeleeCounterParryBonus>0.73</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaDagger"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>1</MeleeCritChance>
				<MeleeParryChance>0.23</MeleeParryChance>
				<MeleeDodgeChance>0.27</MeleeDodgeChance>
			</value>
		</li>
		
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaDagger"]/weaponTags</xpath>
			<value>
				<li>CE_OneHandedWeapon</li>
			</value>
		</li>
			
		<!-- Longsword -->	
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaLongSword"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>handle</label>
						<capacities>
							<li>Poke</li>
						</capacities>
						<power>2</power>
						<cooldownTime>1.5</cooldownTime>
						<chanceFactor>0.15</chanceFactor>
						<armorPenetrationBlunt>0.4</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>18</power>
						<cooldownTime>1</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>25.26</armorPenetrationSharp>
						<armorPenetrationBlunt>1.125</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>edge</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>29</power>
						<cooldownTime>1.35</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>19.12</armorPenetrationSharp>
						<armorPenetrationBlunt>1.531</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
					</li>					
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaLongSword"]/statBases</xpath>
			<value>
				<Bulk>6</Bulk>
				<MeleeCounterParryBonus>0.73</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaLongSword"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>1</MeleeCritChance>
				<MeleeParryChance>0.55</MeleeParryChance>
				<MeleeDodgeChance>0.37</MeleeDodgeChance>
			</value>
		</li>
		
		<!-- Staff -->	

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaStaff"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>staff top edge</label>
						<capacities>
							<li>Blunt</li>
						</capacities>
						<power>10</power>
						<cooldownTime>0.80</cooldownTime>
						<armorPenetrationBlunt>75.62</armorPenetrationBlunt>
					</li>	
					<li Class="CombatExtended.ToolCE">
						<label>staff top edge</label>
						<capacities>
							<li>Blunt</li>
						</capacities>
						<power>10</power>
						<cooldownTime>0.80</cooldownTime>
						<armorPenetrationBlunt>75.62</armorPenetrationBlunt>
					</li>							
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaStaff"]/statBases</xpath>
			<value>
				<Bulk>1.5</Bulk>
				<MeleeCounterParryBonus>2.4</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaStaff"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>0.5</MeleeCritChance>
				<MeleeParryChance>1.8</MeleeParryChance>
				<MeleeDodgeChance>0.6</MeleeDodgeChance>
			</value>
		</li>
		
		<!-- Maul -->	
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaHammer"]/tools</xpath>
			<value>
				<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>5</power>
							<cooldownTime>1.97</cooldownTime>
							<chanceFactor>0.15</chanceFactor>
							<armorPenetrationBlunt>1.5</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>head</label>
							<capacities>
								<li>Blunt</li>
							</capacities>
							<power>43</power>
							<cooldownTime>4.23</cooldownTime>
							<armorPenetrationBlunt>283.5</armorPenetrationBlunt>
						</li>					
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaHammer"]/statBases</xpath>
			<value>
				<Bulk>12</Bulk>
				<MeleeCounterParryBonus>1.28</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaHammer"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>2.5</MeleeCritChance>
				<MeleeParryChance>0.06</MeleeParryChance>
				<MeleeDodgeChance>0.4</MeleeDodgeChance>
			</value>
		</li>
		
		<!-- Mace -->	
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaMace"]/tools</xpath>
			<value>
				<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>5</power>
							<cooldownTime>1.97</cooldownTime>
							<chanceFactor>0.15</chanceFactor>
							<armorPenetrationBlunt>1.5</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>head</label>
							<capacities>
								<li>Blunt</li>
							</capacities>
							<power>32</power>
							<cooldownTime>3.16</cooldownTime>
							<armorPenetrationBlunt>202.5</armorPenetrationBlunt>
						</li>					
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaMace"]/statBases</xpath>
			<value>
				<Bulk>10</Bulk>
				<MeleeCounterParryBonus>1.25</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaMace"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>1.5</MeleeCritChance>
				<MeleeParryChance>0.27</MeleeParryChance>
				<MeleeDodgeChance>0.5</MeleeDodgeChance>
			</value>
		</li>
		
		<!-- Katana -->	

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaKatana"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>handle</label>
						<capacities>
							<li>Poke</li>
						</capacities>
						<power>2</power>
						<cooldownTime>1.5</cooldownTime>
						<chanceFactor>0.15</chanceFactor>
						<armorPenetrationBlunt>0.4</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>15</power>
						<cooldownTime>1.4</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>18.52</armorPenetrationSharp>
						<armorPenetrationBlunt>0.375</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>edge</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>25</power>
						<cooldownTime>0.81</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>18.22</armorPenetrationSharp>
						<armorPenetrationBlunt>1.266</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
					</li>					
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaKatana"]/statBases</xpath>
			<value>
				<Bulk>6</Bulk>
				<MeleeCounterParryBonus>0.53</MeleeCounterParryBonus>
			</value>
		</li>
		
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaKatana"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>1.33</MeleeCritChance>
				<MeleeParryChance>0.40</MeleeParryChance>
				<MeleeDodgeChance>0.27</MeleeDodgeChance>
			</value>
		</li>
		
		<!-- Spearlance -->	

		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaSpearLance"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>handle</label>
						<capacities>
							<li>Poke</li>
							<li>Blunt</li>
						</capacities>
						<power>4</power>
						<cooldownTime>1.5</cooldownTime>
						<chanceFactor>0.15</chanceFactor>
						<armorPenetrationBlunt>1</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Shaft</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>18</power>
						<cooldownTime>1.2</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>21.82</armorPenetrationSharp>
						<armorPenetrationBlunt>3.91</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>head</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>40</power>
						<cooldownTime>2.88</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>23.62</armorPenetrationSharp>
						<armorPenetrationBlunt>5.05</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
					</li>					
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaSpearLance"]/statBases</xpath>
			<value>
				<Bulk>12</Bulk>
				<MeleeCounterParryBonus>3.92</MeleeCounterParryBonus>
			</value>
		</li>
		
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaSpearLance"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>0.5</MeleeCritChance>
				<MeleeParryChance>0.38</MeleeParryChance>
				<MeleeDodgeChance>0.70</MeleeDodgeChance>
			</value>
		</li>
		
		<!-- Gunblade -->	
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaGunBlade"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>handle</label>
						<capacities>
							<li>Poke</li>
						</capacities>
						<power>2</power>
						<cooldownTime>1.5</cooldownTime>
						<chanceFactor>0.15</chanceFactor>
						<armorPenetrationBlunt>0.4</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>21</power>
						<cooldownTime>1.5</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>19</armorPenetrationSharp>
						<armorPenetrationBlunt>0.5</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>edge</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>28</power>
						<cooldownTime>1.35</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>19.12</armorPenetrationSharp>
						<armorPenetrationBlunt>1.531</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
					</li>						
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaGunBlade"]/statBases</xpath>
			<value>
				<Bulk>10</Bulk>
				<MeleeCounterParryBonus>0.44</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaGunBlade"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>0.67</MeleeCritChance>
				<MeleeParryChance>0.33</MeleeParryChance>
				<MeleeDodgeChance>0.33</MeleeDodgeChance>
			</value>
		</li>
		
		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>V_AnimaGunBlade</defName>
			<statBases>
				<SightsEfficiency>1.10</SightsEfficiency>
				<ShotSpread>0.09</ShotSpread>
				<SwayFactor>1.40</SwayFactor>
				<Bulk>10</Bulk>
				<Mass>4.00</Mass>
				<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
			</statBases>
			
			<Properties>
				<recoilAmount>1.26</recoilAmount>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_6x18mmCharged</defaultProjectile>
				<warmupTime>0.5</warmupTime>
				<burstShotCount>3</burstShotCount>
				<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
				<range>25</range>
				<soundCast>GunBladeHeavy</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</Properties>
			
			<AmmoUser>
				<magazineSize>18</magazineSize>
				<reloadTime>4</reloadTime>
				<ammoSet>AmmoSet_6x18mmCharged</ammoSet>
			</AmmoUser>
			<FireModes>
				<aimedBurstShotCount>2</aimedBurstShotCount>
				<aiUseBurstMode>FALSE</aiUseBurstMode>
				<aiAimMode>Snapshot</aiAimMode>
			</FireModes>
		</li>
		
		<!-- Light Gunblade -->	
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="V_AnimaShortGunBlade"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>handle</label>
						<capacities>
							<li>Poke</li>
						</capacities>
						<power>2</power>
						<cooldownTime>1.5</cooldownTime>
						<chanceFactor>0.15</chanceFactor>
						<armorPenetrationBlunt>0.4</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>18</power>
						<cooldownTime>1.01</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>17.92</armorPenetrationSharp>
						<armorPenetrationBlunt>0.391</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>edge</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>22</power>
						<cooldownTime>0.88</cooldownTime>
						<chanceFactor>1</chanceFactor>
						<armorPenetrationSharp>17.24</armorPenetrationSharp>
						<armorPenetrationBlunt>1</armorPenetrationBlunt>
						<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
					</li>						
				</tools>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaShortGunBlade"]/statBases</xpath>
			<value>
				<Bulk>8</Bulk>
				<MeleeCounterParryBonus>0.44</MeleeCounterParryBonus>
			</value>
		</li>

		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="V_AnimaShortGunBlade"]/equippedStatOffsets</xpath>
			<value>
				<MeleeCritChance>0.67</MeleeCritChance>
				<MeleeParryChance>0.33</MeleeParryChance>
				<MeleeDodgeChance>0.33</MeleeDodgeChance>
			</value>
		</li>
		
		<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
		<defName>V_AnimaShortGunBlade</defName>
			<statBases>
				<SightsEfficiency>1.10</SightsEfficiency>
				<ShotSpread>0.11</ShotSpread>
				<SwayFactor>1.15</SwayFactor>
				<Bulk>8.50</Bulk>
				<Mass>3.00</Mass>
				<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
			</statBases>
			
			<Properties>
				<verbClass>CombatExtended.Verb_ShootCE</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<defaultProjectile>Bullet_10x18mmCharged</defaultProjectile>
				<warmupTime>0.5</warmupTime>
				<range>20</range>
				<soundCast>GunBladeLight</soundCast>
				<soundCastTail>GunTail_Heavy</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
			</Properties>
			
			<AmmoUser>
				<magazineSize>6</magazineSize>
				<reloadTime>0.85</reloadTime>
				<reloadOneAtATime>true</reloadOneAtATime>
				<ammoSet>AmmoSet_10x18mmCharged</ammoSet>
			</AmmoUser>
			<FireModes>
				<aiAimMode>Snapshot</aiAimMode>
			</FireModes>
		</li>
		
			</operations>
		</match>
	</Operation>
</Patch>