<?xml version="1.0" encoding="utf-8"?>

<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>[K4G] Empires of Old - Core</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

			<!-- === Sabre === -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Sabre"]/statBases</xpath>
				<value>
					<Bulk>3.5</Bulk>
					<MeleeCounterParryBonus>0.35</MeleeCounterParryBonus>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Sabre"]</xpath>
				<value>
					<equippedStatOffsets>
						<MeleeCritChance>0.2</MeleeCritChance>
						<MeleeParryChance>0.35</MeleeParryChance>
						<MeleeDodgeChance>0.2</MeleeDodgeChance>
					</equippedStatOffsets>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Sabre"]/weaponTags</xpath>
				<value>
					<li>CE_OneHandedWeapon</li>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Sabre"]/tools</xpath>
				<value>
					<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>2</power>
							<cooldownTime>1.44</cooldownTime>
							<armorPenetrationBlunt>0.425</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>point</label>
							<capacities>
								<li>Stab</li>
							</capacities>
							<power>27</power>
							<cooldownTime>1.44</cooldownTime>
							<armorPenetrationBlunt>0.425</armorPenetrationBlunt>
							<armorPenetrationSharp>0.48</armorPenetrationSharp>
							<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>edge</label>
							<capacities>
								<li>Cut</li>
							</capacities>
							<power>20</power>
							<cooldownTime>1.34</cooldownTime>
							<chanceFactor>1.33</chanceFactor>
							<armorPenetrationBlunt>0.956</armorPenetrationBlunt>
							<armorPenetrationSharp>0.43</armorPenetrationSharp>
							<linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
						</li>
					</tools>
				</value>
			</li>

			<!-- === Katanna === -->

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Katana"]/tools</xpath>
				<value>
					<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>2</power>
							<cooldownTime>1.42</cooldownTime>
							<chanceFactor>0.15</chanceFactor>
							<armorPenetrationBlunt>0.4</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>point</label>
							<capacities>
								<li>Stab</li>
							</capacities>
							<power>13</power>
							<cooldownTime>1.42</cooldownTime>
							<chanceFactor>1</chanceFactor>
							<armorPenetrationSharp>1.34</armorPenetrationSharp>
							<armorPenetrationBlunt>0.4</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>edge</label>
							<capacities>
								<li>Cut</li>
							</capacities>
							<power>28</power>
							<cooldownTime>0.88</cooldownTime>
							<chanceFactor>1</chanceFactor>
							<armorPenetrationSharp>1.3</armorPenetrationSharp>
							<armorPenetrationBlunt>1.936</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
						</li>
					</tools>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Katana"]/statBases</xpath>
				<value>
					<Bulk>8</Bulk>
					<MeleeCounterParryBonus>1.27</MeleeCounterParryBonus>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Katana"]</xpath>
				<value>
					<equippedStatOffsets>
						<MeleeCritChance>0.95</MeleeCritChance>
						<MeleeParryChance>0.54</MeleeParryChance>
						<MeleeDodgeChance>0.33</MeleeDodgeChance>
					</equippedStatOffsets>
				</value>
			</li>

			<!-- === Cleaver === -->

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Cleaver"]/tools</xpath>
				<value>
					<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>4</power>
							<cooldownTime>1.83</cooldownTime>
							<chanceFactor>0.15</chanceFactor>
							<armorPenetrationBlunt>1.1</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>point</label>
							<capacities>
								<li>Stab</li>
							</capacities>
							<power>30</power>
							<cooldownTime>1.89</cooldownTime>
							<chanceFactor>1</chanceFactor>
							<armorPenetrationSharp>0.84</armorPenetrationSharp>
							<armorPenetrationBlunt>1.25</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>edge</label>
							<capacities>
								<li>Cut</li>
							</capacities>
							<power>44</power>
							<cooldownTime>1.75</cooldownTime>
							<chanceFactor>1</chanceFactor>
							<armorPenetrationSharp>0.3</armorPenetrationSharp>
							<armorPenetrationBlunt>4.05</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
						</li>
					</tools>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Cleaver"]/statBases</xpath>
				<value>
					<Bulk>11</Bulk>
					<MeleeCounterParryBonus>0.35</MeleeCounterParryBonus>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Cleaver"]</xpath>
				<value>
					<equippedStatOffsets>
						<MeleeCritChance>0.50</MeleeCritChance>
						<MeleeParryChance>0.4</MeleeParryChance>
						<MeleeDodgeChance>0.27</MeleeDodgeChance>
					</equippedStatOffsets>
				</value>
			</li>

			<!-- === Scimitar === -->

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Scimitar"]/tools</xpath>
				<value>
					<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>2</power>
							<cooldownTime>1.54</cooldownTime>
							<armorPenetrationBlunt>0.55</armorPenetrationBlunt>
							<chanceFactor>0.15</chanceFactor>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>point</label>
							<capacities>
								<li>Stab</li>
							</capacities>
							<power>23</power>
							<cooldownTime>1.54</cooldownTime>
							<armorPenetrationBlunt>0.55</armorPenetrationBlunt>
							<armorPenetrationSharp>0.31</armorPenetrationSharp>
							<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>edge</label>
							<capacities>
								<li>Cut</li>
							</capacities>
							<power>28</power>
							<cooldownTime>1.25</cooldownTime>
							<armorPenetrationBlunt>1.782</armorPenetrationBlunt>
							<armorPenetrationSharp>0.8</armorPenetrationSharp>
							<linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
						</li>
					</tools>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Scimitar"]/statBases</xpath>
				<value>
					<Bulk>4</Bulk>
					<MeleeCounterParryBonus>0.38</MeleeCounterParryBonus>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Scimitar"]</xpath>
				<value>
					<equippedStatOffsets>
						<MeleeCritChance>0.24</MeleeCritChance>
						<MeleeParryChance>0.38</MeleeParryChance>
						<MeleeDodgeChance>0.28</MeleeDodgeChance>
					</equippedStatOffsets>
				</value>
			</li>

			<!-- === Glaive === -->

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Glaive"]/tools</xpath>
				<value>
					<tools>
						<li Class="CombatExtended.ToolCE">
							<label>shaft</label>
							<capacities>
								<li>Blunt</li>
							</capacities>
							<power>6</power>
							<cooldownTime>1.16</cooldownTime>
							<armorPenetrationBlunt>2.025</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Shaft</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>edge</label>
							<capacities>
								<li>Cut</li>
							</capacities>
							<power>47</power>
							<cooldownTime>1.74</cooldownTime>
							<chanceFactor>1.165</chanceFactor>
							<armorPenetrationBlunt>8.1</armorPenetrationBlunt>
							<armorPenetrationSharp>1.62</armorPenetrationSharp>
							<linkedBodyPartsGroup>Edge</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>point</label>
							<capacities>
								<li>Stab</li>
							</capacities>
							<power>40</power>
							<cooldownTime>1.16</cooldownTime>
							<chanceFactor>1.165</chanceFactor>
							<armorPenetrationBlunt>2.025</armorPenetrationBlunt>
							<armorPenetrationSharp>2.03</armorPenetrationSharp>
							<linkedBodyPartsGroup>Point</linkedBodyPartsGroup>
						</li>
					</tools>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Glaive"]/statBases</xpath>
				<value>
					<Bulk>10</Bulk>
					<MeleeCounterParryBonus>0.89</MeleeCounterParryBonus>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Glaive"]</xpath>
				<value>
					<equippedStatOffsets>
						<MeleeCritChance>0.22</MeleeCritChance>
						<MeleeParryChance>1.33</MeleeParryChance>
						<MeleeDodgeChance>0.57</MeleeDodgeChance>
					</equippedStatOffsets>
				</value>
			</li>

			<!-- === Baton === -->

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Baton"]/statBases</xpath>
				<value>
					<Bulk>2.75</Bulk>
					<MeleeCounterParryBonus>0.9</MeleeCounterParryBonus>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Baton"]</xpath>
				<value>
					<equippedStatOffsets>
						<MeleeCritChance>0.17</MeleeCritChance>
						<MeleeParryChance>0.9</MeleeParryChance>
						<MeleeDodgeChance>0.3</MeleeDodgeChance>
					</equippedStatOffsets>
				</value>
			</li>

			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Baton"]/weaponTags</xpath>
				<value>
					<li>CE_Sidearm_Melee</li>
					<li>CE_OneHandedWeapon</li>
				</value>
			</li>

			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="K4G_MeleeWeapon_Baton"]/tools</xpath>
				<value>
					<tools>
						<li Class="CombatExtended.ToolCE">
							<label>handle</label>
							<capacities>
								<li>Poke</li>
							</capacities>
							<power>2</power>
							<chanceFactor>0.33</chanceFactor>
							<cooldownTime>1.59</cooldownTime>
							<armorPenetrationBlunt>0.625</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Handle</linkedBodyPartsGroup>
						</li>
						<li Class="CombatExtended.ToolCE">
							<label>head</label>
							<capacities>
								<li>Blunt</li>
							</capacities>
							<power>9</power>
							<cooldownTime>1.68</cooldownTime>
							<armorPenetrationBlunt>3.375</armorPenetrationBlunt>
							<linkedBodyPartsGroup>Head</linkedBodyPartsGroup>
						</li>
					</tools>
				</value>
			</li>

			</operations>
		</match>
	</Operation>
</Patch>