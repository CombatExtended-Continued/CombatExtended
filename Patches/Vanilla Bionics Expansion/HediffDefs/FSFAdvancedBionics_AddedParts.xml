<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationFindMod">
    <mods>
        <li>[FSF] Advanced Bionics Expansion</li>
    </mods>
	<match Class="PatchOperationSequence">
		<operations>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicPowerArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>fist</label>
						<capacities>
							<li>Blunt</li>
						</capacities>
						<power>15</power>
						<cooldownTime>1.21</cooldownTime>
						<armorPenetrationSharp>0</armorPenetrationSharp>
						<armorPenetrationBlunt>30</armorPenetrationBlunt>
						<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
						<soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
						<soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>edge</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>25</power>
						<cooldownTime>1.21</cooldownTime>
						<armorPenetrationSharp>9</armorPenetrationSharp>
						<armorPenetrationBlunt>6.25</armorPenetrationBlunt>
						<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
						<soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
						<soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>10</power>
						<cooldownTime>1.21</cooldownTime>
						<armorPenetrationSharp>18</armorPenetrationSharp>
						<armorPenetrationBlunt>4.75</armorPenetrationBlunt>
						<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
						<soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
						<soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFArchotechPowerArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
						<label>fist</label>
						<capacities>
							<li>Blunt</li>
						</capacities>
						<power>20</power>
						<cooldownTime>0.71</cooldownTime>
						<armorPenetrationSharp>0</armorPenetrationSharp>
						<armorPenetrationBlunt>120</armorPenetrationBlunt>
						<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
						<soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
						<soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>edge</label>
						<capacities>
							<li>Cut</li>
						</capacities>
						<power>30</power>
						<cooldownTime>0.71</cooldownTime>
						<armorPenetrationSharp>24</armorPenetrationSharp>
						<armorPenetrationBlunt>6.25</armorPenetrationBlunt>
						<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
						<soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
						<soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
					</li>
					<li Class="CombatExtended.ToolCE">
						<label>point</label>
						<capacities>
							<li>Stab</li>
						</capacities>
						<power>15</power>
						<cooldownTime>1.21</cooldownTime>
						<armorPenetrationSharp>48</armorPenetrationSharp>
						<armorPenetrationBlunt>4.75</armorPenetrationBlunt>
						<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
						<soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
						<soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>fist</label>
					<capacities>
						<li>Blunt</li>
					</capacities>
					<power>7</power>
					<cooldownTime>0.92</cooldownTime>
					<armorPenetrationBlunt>2.43</armorPenetrationBlunt>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicTaserArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>fist</label>
					<capacities>
						<li>Blunt</li>
					</capacities>
					<power>7</power>
					<cooldownTime>0.92</cooldownTime>
					<armorPenetrationBlunt>2.43</armorPenetrationBlunt>
					<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
					<extraMeleeDamages>
						<li>
							<def>EMP</def>
							<amount>12.5</amount>
						</li>
					</extraMeleeDamages>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicJaw"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>teeth</label>
					<capacities>
						<li>Bite</li>
					</capacities>
					<power>5</power>
					<cooldownTime>1.25</cooldownTime>
					<armorPenetrationSharp>0.3</armorPenetrationSharp>
					<armorPenetrationBlunt>2.5</armorPenetrationBlunt>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicFieldArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>fist</label>
					<capacities>
						<li>Blunt</li>
					</capacities>
					<power>7</power>
					<cooldownTime>0.98</cooldownTime>
					<armorPenetrationBlunt>2.168</armorPenetrationBlunt>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicConstructionArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>fist</label>
					<capacities>
						<li>Blunt</li>
					</capacities>
					<power>7</power>
					<cooldownTime>0.98</cooldownTime>
					<armorPenetrationBlunt>2.168</armorPenetrationBlunt>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicDrillArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>fist</label>
					<capacities>
						<li>Stab</li>
					</capacities>
					<power>8</power>
					<cooldownTime>1.07</cooldownTime>
					<armorPenetrationSharp>0.13</armorPenetrationSharp>
					<armorPenetrationBlunt>0.98</armorPenetrationBlunt>
					</li>
				</tools>
			</value>
		</li>

		<!--Implants-->
		
		<!--Tone down Speed torso implant dodge chance to be more inline with CE stats (also so it doesn't instantly max out dodge)-->
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFImplantMechanitesSpeed"]/stages/li/statOffsets/MeleeDodgeChance</xpath>
			<value>
					<MeleeDodgeChance>1</MeleeDodgeChance>
			</value>
		</li>
		
		<!--Archotech Armor implant : Slightly better sharp (1 vs 0.7), much better blunt (1 vs 0.3)-->
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFArchotechSkinI"]/stages/li/statOffsets/ArmorRating_Sharp</xpath>
			<value>
					<ArmorRating_Sharp>6</ArmorRating_Sharp>
			</value>
		</li>
		
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFArchotechSkinI"]/stages/li/statOffsets/ArmorRating_Blunt</xpath>
			<value>
					<ArmorRating_Blunt>15</ArmorRating_Blunt>
					<ArmorRating_Electric>0.5</ArmorRating_Electric>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFImplantBrainMeleeCombat"]/stages/li/statOffsets/MeleeDodgeChance</xpath>
			<value>
					<MeleeDodgeChance>1.5</MeleeDodgeChance>
					<MeleeCritChance>0.40</MeleeCritChance>
					<MeleeParryChance>0.50</MeleeParryChance>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFImplantBrainRangedCombat"]/stages/li/statOffsets</xpath>
			<value>
				<statOffsets>
					<ShootingAccuracyPawn>+1</ShootingAccuracyPawn>
					<AimingAccuracy>+0.5</AimingAccuracy>
				</statOffsets>
			</value>
		</li>
		
		<li Class="PatchOperationAdd">
			<xpath>Defs/HediffDef[defName="FSFImplantTorsoRespirator"]/stages/li/statOffsets</xpath>
			<value>
				<SmokeSensitivity>-1.0</SmokeSensitivity>
			</value>
		</li>
		
		<li Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="FSFAdvBionicEye"]/statBases</xpath>
			<value>
				<NightVisionEfficiency_Implant>0.4</NightVisionEfficiency_Implant>
			</value>
		</li>	

		<li Class="PatchOperationAdd">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicEye"]</xpath>
			<value>
				<stages>
					<li>
					<statOffsets>
						<NightVisionEfficiency_Implant>0.4</NightVisionEfficiency_Implant>
					</statOffsets>
					</li>
				</stages>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicTaserJaw"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>teeth</label>
					<capacities>
						<li>Bite</li>
					</capacities>
					<power>5</power>
					<cooldownTime>1.25</cooldownTime>
					<armorPenetrationSharp>0.3</armorPenetrationSharp>
					<armorPenetrationBlunt>2.5</armorPenetrationBlunt>
					<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
					<extraMeleeDamages>
						<li>
							<def>EMP</def>
							<amount>12.5</amount>
						</li>
					</extraMeleeDamages>
					</li>
				</tools>
			</value>
		</li>
		
		<li Class="PatchOperationReplace">
			<xpath>Defs/HediffDef[defName="FSFAdvBionicBreachArm"]/comps/li[@Class="HediffCompProperties_VerbGiver"]/tools</xpath>
			<value>
				<tools>
					<li Class="CombatExtended.ToolCE">
					<label>fist</label>
					<capacities>
						<li>Demolish</li>
					</capacities>
					<power>15</power>
					<cooldownTime>1.48</cooldownTime>
					<armorPenetrationBlunt>60</armorPenetrationBlunt>
					<alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
					</li>
				</tools>
			</value>
		</li>
		
		</operations>
	</match>
	</Operation>
	
</Patch>

