<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>RimTraits - Medieval Talents</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- Tier 1 -->
				<!-- Talent Bowman -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentBowman"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1.25</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.1</AimingDelayFactor>
							<MeleeHitChance>1</MeleeHitChance>
							<MeleeCritChance>0.05</MeleeCritChance>
							<MeleeParryChance>0.05</MeleeParryChance>
							<MeleeDodgeChance>0.1</MeleeDodgeChance>
							<RestRateMultiplier>0.05</RestRateMultiplier>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<Suppressability>-0.10</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Talent Swordsman -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentSwordsman"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.1</AimingDelayFactor>
							<MeleeHitChance>2</MeleeHitChance>
							<MeleeCritChance>0.10</MeleeCritChance>
							<MeleeParryChance>0.10</MeleeParryChance>
							<MeleeDodgeChance>0.2</MeleeDodgeChance>
							<RestRateMultiplier>0.05</RestRateMultiplier>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<Suppressability>-0.10</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Tier 2 -->
				<!-- Talent Weapons Master -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentWeaponsMaster"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1.25</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.1</AimingDelayFactor>
							<MeleeHitChance>3</MeleeHitChance>
							<MeleeCritChance>0.15</MeleeCritChance>
							<MeleeParryChance>0.15</MeleeParryChance>
							<MeleeDodgeChance>0.3</MeleeDodgeChance>
							<RestRateMultiplier>0.05</RestRateMultiplier>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<Suppressability>-0.15</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Talent Hunter -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentHunter"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.1</AimingDelayFactor>
							<MeleeHitChance>2</MeleeHitChance>
							<MeleeCritChance>0.10</MeleeCritChance>
							<MeleeParryChance>0.10</MeleeParryChance>
							<MeleeDodgeChance>0.2</MeleeDodgeChance>
							<MedicalTendQuality>0.05</MedicalTendQuality>
							<RestRateMultiplier>0.1</RestRateMultiplier>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<Suppressability>-0.15</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Talent Fletcher -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentFletcher"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1.25</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.1</AimingDelayFactor>
							<MeleeDodgeChance>0.2</MeleeDodgeChance>
							<SmithingSpeed>0.1</SmithingSpeed>
							<RestRateMultiplier>0.05</RestRateMultiplier>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<Suppressability>-0.15</Suppressability>
							<ComfyTemperatureMax>3</ComfyTemperatureMax>
							<ComfyTemperatureMin>-3</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Tier 3 -->
				<!-- Talent Adventurer -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentAdventurer"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1.5</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.15</AimingDelayFactor>
							<MeleeHitChance>3</MeleeHitChance>
							<MeleeCritChance>0.15</MeleeCritChance>
							<MeleeParryChance>0.15</MeleeParryChance>
							<MeleeDodgeChance>0.3</MeleeDodgeChance>
							<MedicalTendQuality>0.10</MedicalTendQuality>
							<CarryWeight>2</CarryWeight>
							<CarryBulk>3</CarryBulk>
							<RestRateMultiplier>0.15</RestRateMultiplier>
							<PawnTrapSpringChance>0.2</PawnTrapSpringChance>
							<MentalBreakThreshold>-0.15</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<Suppressability>-0.15</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Talent Architect -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentArchitect"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ConstructionSpeed>0.15</ConstructionSpeed>
							<FixBrokenDownBuildingSuccessChance>0.15</FixBrokenDownBuildingSuccessChance>
							<MiningSpeed>0.15</MiningSpeed>
							<MiningYield>0.15</MiningYield>
							<SculptingSpeed>0.15</SculptingSpeed>
							<MeleeDodgeChance>0.5</MeleeDodgeChance>
							<CarryWeight>2</CarryWeight>
							<CarryBulk>3</CarryBulk>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.10</PainShockThreshold>
							<ComfyTemperatureMax>3</ComfyTemperatureMax>
							<ComfyTemperatureMin>-3</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Tier 4 -->
				<!-- Talent Scout -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentScout"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>1.25</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.1</AimingDelayFactor>
							<MeleeHitChance>3</MeleeHitChance>
							<MeleeCritChance>0.15</MeleeCritChance>
							<MeleeParryChance>0.15</MeleeParryChance>
							<MeleeDodgeChance>0.3</MeleeDodgeChance>
							<PlantHarvestYield>0.1</PlantHarvestYield>
							<MedicalTendSpeed>0.10</MedicalTendSpeed>
							<MedicalTendQuality>0.10</MedicalTendQuality>
							<CarryWeight>-1</CarryWeight>
							<CarryBulk>-2</CarryBulk>
							<PawnTrapSpringChance>0.1</PawnTrapSpringChance>
							<RestRateMultiplier>0.25</RestRateMultiplier>
							<MentalBreakThreshold>-0.20</MentalBreakThreshold>
							<PainShockThreshold>0.20</PainShockThreshold>
							<Suppressability>-0.20</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Tier 5 -->
				<!-- Talent Hero -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentHero"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>3</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.25</AimingDelayFactor>
							<MeleeHitChance>6</MeleeHitChance>
							<MeleeCritChance>0.30</MeleeCritChance>
							<MeleeParryChance>0.30</MeleeParryChance>
							<MeleeDodgeChance>0.6</MeleeDodgeChance>
							<MedicalTendQuality>0.15</MedicalTendQuality>
							<CarryWeight>5</CarryWeight>
							<CarryBulk>5</CarryBulk>
							<PawnTrapSpringChance>0.1</PawnTrapSpringChance>
							<RestRateMultiplier>0.5</RestRateMultiplier>
							<MentalBreakThreshold>-0.15</MentalBreakThreshold>
							<PainShockThreshold>0.15</PainShockThreshold>
							<Suppressability>-0.25</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>

				<!-- Talent Herald -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentHerald"]/degreeDatas/li/statOffsets</xpath>
					<value>
						<statOffsets>
							<ShootingAccuracyPawn>2</ShootingAccuracyPawn>
							<AimingDelayFactor>-0.20</AimingDelayFactor>
							<MeleeHitChance>4</MeleeHitChance>
							<MeleeCritChance>0.25</MeleeCritChance>
							<MeleeParryChance>0.25</MeleeParryChance>
							<MeleeDodgeChance>0.5</MeleeDodgeChance>
							<MedicalTendQuality>0.10</MedicalTendQuality>
							<CarryWeight>4</CarryWeight>
							<CarryBulk>4</CarryBulk>
							<RestRateMultiplier>0.45</RestRateMultiplier>
							<PawnTrapSpringChance>0.2</PawnTrapSpringChance>
							<MentalBreakThreshold>-0.10</MentalBreakThreshold>
							<PainShockThreshold>0.15</PainShockThreshold>
							<Suppressability>-0.25</Suppressability>
							<ComfyTemperatureMax>5</ComfyTemperatureMax>
							<ComfyTemperatureMin>-5</ComfyTemperatureMin>
						</statOffsets>
					</value>
				</li>
				
				<!-- Any Tier -->
				<!-- Replacing Carry Capacity to Carry Weight or Bulk Bonus -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentBuilder" or defName="RT_TalentMiner" or defName="RT_TalentTrader" or defName="RT_TalentHerbalist" or defName="RT_TalentJackOfAllTrades"]/degreeDatas/li/statOffsets/CarryingCapacity</xpath>
					<value>
						<CarryWeight>1</CarryWeight>
						<CarryBulk>2</CarryBulk>
					</value>
				</li>
				
				<li Class="PatchOperationReplace">
					<xpath>Defs/TraitDef[defName="RT_TalentGroundskeeper" or defName="RT_TalentEngineer"]/degreeDatas/li/statOffsets/CarryingCapacity</xpath>
					<value>
						<CarryWeight>2</CarryWeight>
						<CarryBulk>3</CarryBulk>
					</value>
				</li>
				
				<!-- Remove Movespeed Bonus -->
				<li Class="PatchOperationRemove">
					<xpath>Defs/TraitDef[defName="RT_TalentPhysician" or defName="RT_TalentGroundskeeper" or defName="RT_TalentEngineer" or defName="RT_TalentCook" or defName="RT_TalentHerbalist" or defName="RT_TalentArmourer" or defName="RT_TalentVeterinarian" or defName="RT_TalentChef" or defName="RT_TalentSurgeon" or defName="RT_TalentPhilosopher" or defName="RT_TalentRecruiter" or defName="RT_TalentJackOfAllTrades"]/degreeDatas/li/statOffsets/MoveSpeed</xpath>
				</li>

			</operations>
		</match>
	</Operation>
</Patch>
