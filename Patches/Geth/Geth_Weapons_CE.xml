<?xml version="1.0" encoding="UTF-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Geth</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- ========== Geth Javelin ========== -->

				<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
					<defName>Gun_GethJavelin</defName>
					<statBases>
						<Mass>2.48</Mass>
						<RangedWeapon_Cooldown>0.48</RangedWeapon_Cooldown>
						<SightsEfficiency>3</SightsEfficiency>
						<ShotSpread>0.03</ShotSpread>
						<SwayFactor>1.64</SwayFactor>
						<Bulk>12.60</Bulk>
						<WorkToMake>12500</WorkToMake>
					</statBases>
					<costList>
						<Plasteel>60</Plasteel>
						<ComponentSpacer>2</ComponentSpacer>
					</costList>
					<Properties>
						<verbClass>CombatExtended.Verb_ShootCE</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>Bullet_GethSniper</defaultProjectile>
						<warmupTime>1.5</warmupTime>
						<range>86</range>
						<ammoConsumedPerShotCount>3</ammoConsumedPerShotCount>
						<soundCast>Shot_Javelin</soundCast>
						<soundCastTail>GunTail_Heavy</soundCastTail>
						<muzzleFlashScale>9</muzzleFlashScale>
					</Properties>
					<AmmoUser>
						<magazineSize>3</magazineSize>
						<reloadTime>1.25</reloadTime>
						<ammoSet>AmmoSet_GethSniper</ammoSet>
					</AmmoUser>
					<FireModes>
						<aiUseBurstMode>FALSE</aiUseBurstMode>
						<aiAimMode>AimedShot</aiAimMode>
					</FireModes>
					<weaponTags>
						<li>GethJavelin</li>
					</weaponTags>

					<AllowWithRunAndGun>false</AllowWithRunAndGun>
				</li>

				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="Gun_GethJavelin"]</xpath>
					<value>
						<li Class="CombatExtended.GunDrawExtension">
							<DrawSize>1.18,1.12</DrawSize>
							<DrawOffset>0.0,0.0</DrawOffset>
						</li>
					</value>
				</li>

				<!-- ========== Geth ShotGun ========== -->

				<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
					<defName>Gun_GethPlasmaShotgun</defName>
					<statBases>
						<Mass>2.0</Mass>
						<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
						<SightsEfficiency>1.0</SightsEfficiency>
						<ShotSpread>0.14</ShotSpread>
						<SwayFactor>1.12</SwayFactor>
						<Bulk>7.20</Bulk>
						<WorkToMake>12500</WorkToMake>
					</statBases>
					<costList>
						<Plasteel>50</Plasteel>
						<ComponentSpacer>2</ComponentSpacer>
					</costList>
					<Properties>
						<recoilAmount>1.88</recoilAmount>
						<verbClass>CombatExtended.Verb_ShootCE</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>Bullet_GethShotgun</defaultProjectile>
						<warmupTime>0.65</warmupTime>
						<range>18</range>
						<burstShotCount>2</burstShotCount>
						<ticksBetweenBurstShots>7</ticksBetweenBurstShots>
						<ammoConsumedPerShotCount>3</ammoConsumedPerShotCount>
						<soundCast>Shot_PlasmaShotgun</soundCast>
						<soundCastTail>GunTail_Medium</soundCastTail>
						<muzzleFlashScale>10</muzzleFlashScale>
					</Properties>
					<AmmoUser>
						<magazineSize>15</magazineSize>
						<reloadTime>3.5</reloadTime>
						<ammoSet>AmmoSet_GethShotgun</ammoSet>
					</AmmoUser>
					<FireModes>
						<aiUseBurstMode>FALSE</aiUseBurstMode>
						<aiAimMode>Snapshot</aiAimMode>
					</FireModes>
					<weaponTags>
						<li>GethPlasmaShotgun</li>
					</weaponTags>
				</li>

				<!-- ========== Geth Pulse Rifle ========== -->

				<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
					<defName>Gun_GethPulseRifle</defName>
					<statBases>
						<Mass>2.5</Mass>
						<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
						<SightsEfficiency>1.00</SightsEfficiency>
						<ShotSpread>0.06</ShotSpread>
						<SwayFactor>1.3</SwayFactor>
						<Bulk>8.03</Bulk>
						<WorkToMake>12500</WorkToMake>
					</statBases>
					<costList>
						<Plasteel>40</Plasteel>
						<ComponentSpacer>2</ComponentSpacer>
					</costList>
					<Properties>
						<recoilAmount>0.78</recoilAmount>
						<verbClass>CombatExtended.Verb_ShootCE</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>Bullet_GethRifle</defaultProjectile>
						<warmupTime>1</warmupTime>
						<range>52</range>
						<burstShotCount>10</burstShotCount>
						<ticksBetweenBurstShots>3</ticksBetweenBurstShots>
						<soundCast>Shot_PulseRifle</soundCast>
						<soundCastTail>GunTail_Light</soundCastTail>
						<muzzleFlashScale>3</muzzleFlashScale>
					</Properties>
					<AmmoUser>
						<magazineSize>80</magazineSize>
						<reloadTime>5.9</reloadTime>
						<ammoSet>AmmoSet_GethRifle</ammoSet>
					</AmmoUser>
					<FireModes>
						<aiUseBurstMode>TRUE</aiUseBurstMode>
						<aiAimMode>AimedShot</aiAimMode>
						<aimedBurstShotCount>5</aimedBurstShotCount>
					</FireModes>
					<weaponTags>
						<li>GethPulseRifle</li>
					</weaponTags>
				</li>		


				<!-- ========== Geth Pulse SMG ========== -->

				<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
					<defName>Gun_GethPlasmaSMG</defName>
					<statBases>
						<Mass>1.3</Mass>
						<RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
						<SightsEfficiency>0.9</SightsEfficiency>
						<ShotSpread>0.12</ShotSpread>
						<SwayFactor>1.03</SwayFactor>
						<Bulk>2.6</Bulk>
						<WorkToMake>12000</WorkToMake>
					</statBases>
					<costList>
						<Plasteel>30</Plasteel>
						<ComponentSpacer>1</ComponentSpacer>
					</costList>
					<Properties>
						<recoilAmount>0.73</recoilAmount>
						<verbClass>CombatExtended.Verb_ShootCE</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>Bullet_GethSMG</defaultProjectile>
						<warmupTime>0.6</warmupTime>
						<range>20</range>
						<burstShotCount>10</burstShotCount>
						<ticksBetweenBurstShots>3</ticksBetweenBurstShots>
						<soundCast>Shot_PlasmaSMG</soundCast>
						<soundCastTail>GunTail_Light</soundCastTail>
						<muzzleFlashScale>3</muzzleFlashScale>
					</Properties>
					<AmmoUser>
						<magazineSize>80</magazineSize>
						<reloadTime>4</reloadTime>
						<ammoSet>AmmoSet_GethSMG</ammoSet>
					</AmmoUser>
					<FireModes>
						<aiUseBurstMode>TRUE</aiUseBurstMode>
						<aiAimMode>Snapshot</aiAimMode>
						<aimedBurstShotCount>5</aimedBurstShotCount>
					</FireModes>
					<weaponTags>
						<li>GethPlasmaSMG</li>
					</weaponTags>
				</li>		


				<!-- ========== Geth Spitfire ========== -->

				<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
					<defName>Gun_GethSpitfire</defName>
					<statBases>
						<Mass>18</Mass>
						<RangedWeapon_Cooldown>0.56</RangedWeapon_Cooldown>
						<SightsEfficiency>1.00</SightsEfficiency>
						<ShotSpread>0.07</ShotSpread>
						<SwayFactor>1.56</SwayFactor>
						<Bulk>20.03</Bulk>
						<WorkToMake>70000</WorkToMake>
					</statBases>
					<costList>
						<Plasteel>150</Plasteel>
						<ComponentSpacer>4</ComponentSpacer>
					</costList>
					<Properties>
						<recoilAmount>0.7</recoilAmount>
						<verbClass>CombatExtended.Verb_ShootCE</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>Bullet_GethSpitfire</defaultProjectile>
						<warmupTime>1.3</warmupTime>
						<range>62</range>
						<minRange>1.5</minRange>
						<burstShotCount>40</burstShotCount>
						<ticksBetweenBurstShots>2</ticksBetweenBurstShots>
						<soundCast>Shot_Spitfire</soundCast>
						<soundCastTail>GunTail_Medium</soundCastTail>
						<muzzleFlashScale>10</muzzleFlashScale>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>
					</Properties>
					<AmmoUser>
						<magazineSize>220</magazineSize>
						<reloadTime>7.8</reloadTime>
						<ammoSet>AmmoSet_GethSpitfire</ammoSet>
					</AmmoUser>
					<FireModes>
						<aiUseBurstMode>False</aiUseBurstMode>
						<aiAimMode>Snapshot</aiAimMode>
						<aimedBurstShotCount>20</aimedBurstShotCount>
					</FireModes>
					<weaponTags>
						<li>GethSpitfire</li>
					</weaponTags>
				</li>	

				<li Class="PatchOperationAddModExtension">
					<xpath>Defs/ThingDef[defName="Gun_GethSpitfire"]</xpath>
					<value>
						<li Class="CombatExtended.GunDrawExtension">
							<DrawSize>1.18,1.12</DrawSize>
							<DrawOffset>0.0,0.0</DrawOffset>
						</li>
					</value>
				</li>

				<!-- ========== Seige Pulse Assault Cannon ========== -->

				<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
					<defName>Gun_SiegePulseCannon</defName>
					<statBases>
						<Mass>15</Mass>
						<RangedWeapon_Cooldown>2</RangedWeapon_Cooldown>
						<SightsEfficiency>1.00</SightsEfficiency>
						<ShotSpread>0.02</ShotSpread>
						<SwayFactor>1.47</SwayFactor>
						<Bulk>20.03</Bulk>
						<WorkToMake>50000</WorkToMake>
					</statBases>
					<Properties>
						<verbClass>CombatExtended.Verb_ShootCE</verbClass>
						<hasStandardCommand>true</hasStandardCommand>
						<defaultProjectile>Bullet_GethCannon</defaultProjectile>
						<warmupTime>4.5</warmupTime>
						<minRange>2.5</minRange>
						<range>78</range>
						<ai_AvoidFriendlyFireRadius>5</ai_AvoidFriendlyFireRadius>
						<soundCast>Shot_Colossus</soundCast>
						<soundCastTail>GunTail_Heavy</soundCastTail>
						<targetParams>
							<canTargetLocations>true</canTargetLocations>
						</targetParams>	
						<muzzleFlashScale>14</muzzleFlashScale>
						<ignorePartialLoSBlocker>true</ignorePartialLoSBlocker>
					</Properties>
					<FireModes>
						<aiUseBurstMode>False</aiUseBurstMode>
						<aiAimMode>AimedShot</aiAimMode>
					</FireModes>
					<weaponTags>
						<li>SiegePulseAssaultCannon</li>
					</weaponTags>
				</li>		

				<!-- == Shared patches for firearm melee tools == -->

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[
				defName="Gun_GethJavelin" or
				defName="Gun_GethPlasmaShotgun" or
				defName="Gun_GethSpitfire" or
				defName="Gun_GethPulseRifle"
			]/tools</xpath>
					<value>
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>stock</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>8</power>
								<cooldownTime>1.55</cooldownTime>
								<chanceFactor>1.5</chanceFactor>
								<armorPenetrationBlunt>2.755</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>barrel</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>5</power>
								<cooldownTime>2.02</cooldownTime>
								<armorPenetrationBlunt>1.630</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>muzzle</label>
								<capacities>
									<li>Poke</li>
								</capacities>
								<power>8</power>
								<cooldownTime>1.55</cooldownTime>
								<armorPenetrationBlunt>2.755</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
							</li>
						</tools>
					</value>
				</li>


				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[
				defName="Gun_GethPlasmaSMG"
			]/tools</xpath>
					<value>
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>stock</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>5</power>
								<cooldownTime>1.35</cooldownTime>
								<chanceFactor>1.5</chanceFactor>
								<armorPenetrationBlunt>2.755</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Stock</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>barrel</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>2</power>
								<cooldownTime>1.25</cooldownTime>
								<armorPenetrationBlunt>1.630</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Barrel</linkedBodyPartsGroup>
							</li>
							<li Class="CombatExtended.ToolCE">
								<label>muzzle</label>
								<capacities>
									<li>Poke</li>
								</capacities>
								<power>4</power>
								<cooldownTime>1.35</cooldownTime>
								<armorPenetrationBlunt>2.755</armorPenetrationBlunt>
								<linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
							</li>
						</tools>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[
				defName="Gun_SiegePulseCannon"
			]/tools</xpath>
					<value>
						<tools>
							<li Class="CombatExtended.ToolCE">
								<label>leg</label>
								<capacities>
									<li>Blunt</li>
								</capacities>
								<power>40</power>
								<cooldownTime>2.5</cooldownTime>
								<armorPenetrationBlunt>36</armorPenetrationBlunt>
							</li>
						</tools>
					</value>
				</li>


			</operations>
		</match>
	</Operation>
</Patch>
