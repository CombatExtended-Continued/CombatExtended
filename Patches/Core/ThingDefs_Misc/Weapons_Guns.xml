<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- ========== Remove unused vanilla stats ========== -->

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[@ParentName="BaseGun" or @ParentName="BaseHumanMakeableGun" or @ParentName="BaseWeaponNeolithic"]/statBases/AccuracyTouch</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[@ParentName="BaseGun" or @ParentName="BaseHumanMakeableGun" or @ParentName="BaseWeaponNeolithic"]/statBases/AccuracyShort</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[@ParentName="BaseGun" or @ParentName="BaseHumanMakeableGun" or @ParentName="BaseWeaponNeolithic"]/statBases/AccuracyMedium</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[@ParentName="BaseGun" or @ParentName="BaseHumanMakeableGun" or @ParentName="BaseWeaponNeolithic"]/statBases/AccuracyLong</xpath>
	</Operation>

	<!-- ========== Pistol ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_Pistol"]/statBases/Mass</xpath>
		<value>
			<Mass>1</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_Pistol"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
			<RangedWeapon_Cooldown>0.25</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Pistol"]/statBases</xpath>
		<value>
			<SightsEfficiency>0.35</SightsEfficiency>
			<ShotSpread>0.16</ShotSpread>
			<SwayFactor>1.03</SwayFactor>
			<Bulk>2.10</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_Pistol"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_45ACP_FMJ</projectileDef>
				  <warmupTime>0.3</warmupTime>
				  <range>12</range>
				  <soundCast>ShotPistol</soundCast>
				  <soundCastTail>GunTail_Light</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_Pistol"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_Pistol"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Pistol"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>7</magazineSize>
			  <reloadTicks>180</reloadTicks>
			  <ammoSet>AmmoSet_45ACP</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>FALSE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_Pistol"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_Pistol"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Pistol"]/weaponTags</xpath>
		<value>
			<li>CE_Sidearm</li>
			<li>CE_AI_Pistol</li>
			<li>CE_OneHandedWeapon</li>
		</value>
	</Operation>

	<!-- ========== Pump Shotgun ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/statBases/Mass</xpath>
		<value>
      <Mass>3.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/statBases</xpath>
		<value>
      <ShotSpread>0.15</ShotSpread>
      <SwayFactor>0.77</SwayFactor>
      <Bulk>8.10</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_12Gauge_Buck</projectileDef>
				  <warmupTime>0.6</warmupTime>
				  <range>16</range>
				  <soundCast>ShotShotgun</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_PumpShotgun"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>5</magazineSize>
			  <reloadTicks>240</reloadTicks>
			  <ammoSet>AmmoSet_12Gauge</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>FALSE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_PumpShotgun"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_PumpShotgun"]/weaponTags</xpath>
		<value>
			<li>CE_AI_AssaultWeapon</li>
		</value>
	</Operation>

	<!-- ========== Chain Shotgun ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/statBases/Mass</xpath>
		<value>
      <Mass>3.50</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.66</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/statBases</xpath>
		<value>
      <ShotSpread>0.15</ShotSpread>
      <SwayFactor>0.89</SwayFactor>
      <Bulk>6.83</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_12Gauge_Buck</projectileDef>
				  <warmupTime>0.6</warmupTime>
				  <range>16</range>
				  <soundCast>ShotShotgun</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				  <burstShotCount>3</burstShotCount>
				  <ticksBetweenBurstShots>15</ticksBetweenBurstShots>
				  <recoilPattern>Regular</recoilPattern>
				  <recoilAmount>0.51</recoilAmount>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChainShotgun"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>10</magazineSize>
			  <reloadTicks>240</reloadTicks>
			  <ammoSet>AmmoSet_12Gauge</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>2</aimedBurstShotCount>
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>FALSE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChainShotgun"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChainShotgun"]/weaponTags</xpath>
		<value>
			<li>CE_AI_AssaultWeapon</li>
		</value>
	</Operation>

	<!-- ========== Bolt-action rifle ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/statBases/Mass</xpath>
		<value>
      <Mass>4.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.2</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.50</SightsEfficiency>
      <ShotSpread>0.08</ShotSpread>
      <SwayFactor>0.96</SwayFactor>
      <Bulk>9.50</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_303British_FMJ</projectileDef>
				  <warmupTime>1.25</warmupTime>
				  <range>55</range>
				  <soundCast>ShotBoltActionRifle</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>10</magazineSize>
			  <reloadTicks>180</reloadTicks>
			  <ammoSet>AmmoSet_303British</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_BoltActionRifle"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Rifle</li>
		</value>
	</Operation>

	<!-- ========== Assault rifle ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/statBases/Mass</xpath>
		<value>
      <Mass>3.40</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.4</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.50</SightsEfficiency>
      <ShotSpread>0.08</ShotSpread>
      <SwayFactor>0.89</SwayFactor>
      <Bulk>10.03</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Regular</recoilPattern>
				  <recoilAmount>0.96</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_556x45mmNATO_FMJ</projectileDef>
				  <warmupTime>1.25</warmupTime>
				  <range>55</range>
				  <burstShotCount>6</burstShotCount>
				  <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
				  <soundCast>ShotAssaultRifle</soundCast>
				  <soundCastTail>GunTail_Medium</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_AssaultRifle"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>30</magazineSize>
			  <reloadTicks>300</reloadTicks>
			  <ammoSet>AmmoSet_556x45mmNATO</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>3</aimedBurstShotCount>
			  <aiUseBurstMode>TRUE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_AssaultRifle"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_AssaultRifle"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Rifle</li>
		</value>
	</Operation>

	<!-- ========== Sniper rifle ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_SniperRifle"]/statBases/Mass</xpath>
		<value>
      <Mass>7.30</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_SniperRifle"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_SniperRifle"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.5</SightsEfficiency>
      <ShotSpread>0.04</ShotSpread>
      <SwayFactor>1.3</SwayFactor>
      <Bulk>10.92</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_SniperRifle"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_762x51mmNATO_FMJ</projectileDef>
				  <warmupTime>1.4</warmupTime>
				  <range>75</range>
				  <soundCast>ShotSniperRifle</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_SniperRifle"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_SniperRifle"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_SniperRifle"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>5</magazineSize>
			  <reloadTicks>300</reloadTicks>
			  <ammoSet>AmmoSet_762x51mmNATO</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_SniperRifle"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_SniperRifle"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_SniperRifle"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Rifle</li>
		</value>
	</Operation>

	<!-- ========== Machine pistol ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_MachinePistol"]/statBases/Mass</xpath>
		<value>
      <Mass>3.50</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_MachinePistol"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.33</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_MachinePistol"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.50</SightsEfficiency>
      <ShotSpread>0.12</ShotSpread>
      <SwayFactor>0.74</SwayFactor>
      <Bulk>5.44</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_MachinePistol"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Regular</recoilPattern>
				  <recoilAmount>0.19</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_9x19mmPara_FMJ</projectileDef>
				  <warmupTime>0.75</warmupTime>
				  <range>20</range>
				  <burstShotCount>6</burstShotCount>
				  <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
				  <soundCast>ShotMachinePistol</soundCast>
				  <soundCastTail>GunTail_Light</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_MachinePistol"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_MachinePistol"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_MachinePistol"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>32</magazineSize>
			  <reloadTicks>240</reloadTicks>
			  <ammoSet>AmmoSet_9x19mmPara</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>3</aimedBurstShotCount>
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>FALSE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_MachinePistol"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_MachinePistol"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_MachinePistol"]/weaponTags</xpath>
		<value>
			<li>CE_SMG</li>
			<li>CE_AI_AssaultWeapon</li>
			<li>CE_OneHandedWeapon</li>
		</value>
	</Operation>

	<!-- ========== Heavy SMG ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_HeavySMG"]/statBases/Mass</xpath>
		<value>
      <Mass>1.40</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_HeavySMG"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.33</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_HeavySMG"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.35</SightsEfficiency>
      <ShotSpread>0.12</ShotSpread>
      <SwayFactor>0.58</SwayFactor>
      <Bulk>5.00</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_HeavySMG"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Regular</recoilPattern>
				  <recoilAmount>0.47</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_45ACP_FMJ</projectileDef>
				  <warmupTime>0.75</warmupTime>
				  <range>16</range>
				  <burstShotCount>6</burstShotCount>
				  <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
				  <soundCast>ShotHeavySMG</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_HeavySMG"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_HeavySMG"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_HeavySMG"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>20</magazineSize>
			  <reloadTicks>240</reloadTicks>
			  <ammoSet>AmmoSet_45ACP</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>3</aimedBurstShotCount>
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>FALSE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_HeavySMG"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_HeavySMG"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_HeavySMG"]/weaponTags</xpath>
		<value>
			<li>CE_SMG</li>
			<li>CE_AI_AssaultWeapon</li>
			<li>CE_OneHandedWeapon</li>
		</value>
	</Operation>

	<!-- ========== Incendiary launcher ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/statBases/Mass</xpath>
		<value>
      <Mass>6</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.4</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.50</SightsEfficiency>
      <ShotSpread>0.17</ShotSpread>
      <SwayFactor>1.04</SwayFactor>
      <Bulk>11.25</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_30x64mmFuel_Incendiary</projectileDef>
				  <ai_IsIncendiary>true</ai_IsIncendiary>
				  <warmupTime>1.25</warmupTime>
				  <range>40</range>
				  <burstShotCount>1</burstShotCount>
				  <soundCast>ShotIncendiaryLauncher</soundCast>
				  <soundCastTail>GunTail_Medium</soundCastTail>
				  <muzzleFlashScale>14</muzzleFlashScale>
				  <targetParams>
				    <canTargetLocations>true</canTargetLocations>
				  </targetParams>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>5</magazineSize>
			  <reloadTicks>300</reloadTicks>
			  <ammoSet>AmmoSet_30x64mmFuel</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_IncendiaryLauncher"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Rifle</li>
			<li>CE_AI_Launcher</li>
		</value>
	</Operation>

	<!-- ========== LMG ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_LMG"]/statBases/Mass</xpath>
		<value>
      <Mass>9.12</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_LMG"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_LMG"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.50</SightsEfficiency>
      <ShotSpread>0.08</ShotSpread>
      <SwayFactor>1.96</SwayFactor>
      <Bulk>15.24</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_LMG"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Mounted</recoilPattern>
				  <recoilAmount>0.43</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_762x54mmR_FMJ</projectileDef>
				  <warmupTime>1.6</warmupTime>
				  <range>78</range>
				  <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
				  <burstShotCount>10</burstShotCount>
				  <soundCast>ShotMinigun</soundCast>
				  <soundCastTail>GunTail_Medium</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				  <targetParams>
				    <canTargetLocations>true</canTargetLocations>
				  </targetParams>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_LMG"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_LMG"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_LMG"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>47</magazineSize>
			  <reloadTicks>420</reloadTicks>
			  <ammoSet>AmmoSet_762x54mmR</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>5</aimedBurstShotCount>
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>FALSE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_LMG"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_LMG"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_LMG"]/weaponTags</xpath>
		<value>
			<li>CE_MachineGun</li>
			<li>CE_AI_Suppressive</li>
		</value>
	</Operation>

	<!-- ========== Charge rifle ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/statBases/Mass</xpath>
		<value>
      <Mass>3.50</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.4</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/statBases</xpath>
		<value>
      <SightsEfficiency>0.50</SightsEfficiency>
      <ShotSpread>0.05</ShotSpread>
      <SwayFactor>0.95</SwayFactor>
      <Bulk>11.00</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Regular</recoilPattern>
				  <recoilAmount>0.59</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_6x24mmCharged</projectileDef>
				  <warmupTime>1.25</warmupTime>
				  <range>59</range>
				  <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
				  <burstShotCount>6</burstShotCount>
				  <soundCast>ShotChargeRifle</soundCast>
				  <soundCastTail>GunTail_Medium</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChargeRifle"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>60</magazineSize>
			  <reloadTicks>300</reloadTicks>
			  <ammoSet>AmmoSet_6x24mmCharged</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>3</aimedBurstShotCount>
			  <aiUseBurstMode>TRUE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChargeRifle"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeRifle"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Rifle</li>
		</value>
	</Operation>

	<!-- ========== Improvised turret gun ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_TurretImprovised"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
			<RangedWeapon_Cooldown>0.4</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_TurretImprovised"]/statBases</xpath>
		<value>
			<SightsEfficiency>0.35</SightsEfficiency>
			<ShotSpread>0.08</ShotSpread>
			<SwayFactor>0.85</SwayFactor>
			<Bulk>7.00</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_TurretImprovised"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
					<recoilPattern>Mounted</recoilPattern>
					<recoilAmount>0.72</recoilAmount>
					<verbClass>CombatExtended.Verb_ShootCE</verbClass>
					<hasStandardCommand>true</hasStandardCommand>
					<projectileDef>Bullet_556x45mmNATO_FMJ</projectileDef>
					<warmupTime>1.5</warmupTime>
					<range>31</range>
					<ticksBetweenBurstShots>5</ticksBetweenBurstShots>
					<burstShotCount>10</burstShotCount>
					<soundCast>GunShotA</soundCast>
					<soundCastTail>GunTail_Light</soundCastTail>
					<muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_TurretImprovised"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_TurretImprovised"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_TurretImprovised"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
				<magazineSize>300</magazineSize>
				<reloadTicks>300</reloadTicks>
				<spawnUnloaded>true</spawnUnloaded>
				<ammoSet>AmmoSet_556x45mmNATO</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
				<aiUseBurstMode>TRUE</aiUseBurstMode>
				<aiUseAimMode>TRUE</aiUseAimMode>
				<noSnapshot>true</noSnapshot>
				<noSingleShot>true</noSingleShot>
			</li>
		</value>
	</Operation>

	<!-- ========== Minigun ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/statBases/Mass</xpath>
		<value>
      <Mass>20.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.25</SightsEfficiency>
      <ShotSpread>0.08</ShotSpread>
      <SwayFactor>2.10</SwayFactor>
      <Bulk>16.00</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Mounted</recoilPattern>
				  <recoilAmount>0.90</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_762x51mmNATO_FMJ</projectileDef>
				  <warmupTime>4</warmupTime>
				  <range>75</range>
				  <burstShotCount>300</burstShotCount>
				  <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
				  <soundCast>ShotMinigun</soundCast>
				  <soundCastTail>GunTail_Medium</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_Minigun"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_Minigun"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/comps</xpath>
		<value>
      <li Class="CombatExtended.CompProperties_AmmoUser">
        <magazineSize>600</magazineSize>
        <reloadTicks>300</reloadTicks>
        <ammoSet>AmmoSet_762x51mmNATO</ammoSet>
      </li>
      <li Class="CombatExtended.CompProperties_FireModes">
        <aiUseBurstMode>FALSE</aiUseBurstMode>
        <aiUseAimMode>TRUE</aiUseAimMode>
      </li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_Minigun"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_Minigun"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/weaponTags</xpath>
		<value>
      <li>CE_AI_Suppressive</li>
		</value>
	</Operation>

	<!-- Disable for player -->

	<Operation Class="PatchOperationAttributeSet">
		<xpath>*/ThingDef[defName="Gun_Minigun"]</xpath>
		<attribute>ParentName</attribute>
		<value>BaseGun</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/costList</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/recipeMaker</xpath>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Minigun"]/statBases</xpath>
		<value>
      <MarketValue>2200</MarketValue>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_Minigun"]</xpath>
		<value>
			<tradeability>Never</tradeability>
			<destroyOnDrop>True</destroyOnDrop>
			<menuHidden>True</menuHidden>
		</value>
	</Operation>

	<!-- ========== Doomsday launcher ========== -->

	<!-- Patch projectile -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Bullet_DoomsdayRocket"]/thingClass</xpath>
		<value>
      <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Bullet_DoomsdayRocket"]/projectile</xpath>
		<value>
			<projectile Class="CombatExtended.ProjectilePropertiesCE">
				<damageDef>Bomb</damageDef>
				<damageAmountBase>250</damageAmountBase>
				<explosionRadius>7.8</explosionRadius>
				<speed>100</speed>
			</projectile>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Bullet_DoomsdayRocket"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Bullet_DoomsdayRocket"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Bullet_DoomsdayRocket"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_ExplosiveCE">
				<fragSpeedFactor>1</fragSpeedFactor>
				<fragments>
					<Fragment_RocketFrag>400</Fragment_RocketFrag>
				</fragments>
			</li>
		</value>
	</Operation>

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/statBases/Mass</xpath>
		<value>
      <Mass>11.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.25</SightsEfficiency>
      <ShotSpread>0.2</ShotSpread>
      <SwayFactor>2.20</SwayFactor>
      <Bulk>17.50</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_DoomsdayRocket</projectileDef>
				  <forcedMissRadius>0.0</forcedMissRadius>
				  <warmupTime>4.5</warmupTime>
				  <range>62</range>
				  <burstShotCount>1</burstShotCount>
				  <soundCast>InfernoCannon_Fire</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <onlyManualCast>true</onlyManualCast>
				  <targetParams>
				    <canTargetLocations>true</canTargetLocations>
				  </targetParams>
				  <muzzleFlashScale>14</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Launcher</li>
		</value>
	</Operation>

	<!-- Add recipe -->

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]/statBases/MarketValue</xpath>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_DoomsdayRocket"]</xpath>
		<value>
			<recipeMaker>
			  <researchPrerequisite>LargeRockets</researchPrerequisite>
			</recipeMaker>
			<costList>
			  <Steel>170</Steel>
			  <Component>15</Component>
			  <FSX>5</FSX>
			</costList>
		</value>
	</Operation>

	<!-- ========== Triple rocket launcher ========== -->

	<!-- Patch projectile -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Bullet_Rocket"]/thingClass</xpath>
		<value>
      <thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Bullet_Rocket"]/projectile</xpath>
		<value>
			<projectile Class="CombatExtended.ProjectilePropertiesCE">
				<damageDef>Bomb</damageDef>
				<damageAmountBase>180</damageAmountBase>
				<explosionRadius>3.0</explosionRadius>
				<speed>100</speed>
			</projectile>
		</value>
	</Operation>

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Bullet_Rocket"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Bullet_Rocket"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Bullet_Rocket"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_ExplosiveCE">
				<fragSpeedFactor>1</fragSpeedFactor>
				<fragments>
					<Fragment_RocketFrag>150</Fragment_RocketFrag>
				</fragments>
			</li>
		</value>
	</Operation>

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/statBases/Mass</xpath>
		<value>
      <Mass>9.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.25</SightsEfficiency>
      <ShotSpread>0.2</ShotSpread>
      <SwayFactor>2.00</SwayFactor>
      <Bulk>17.50</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCEOneUse</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_Rocket</projectileDef>
				  <forcedMissRadius>2.0</forcedMissRadius>
				  <warmupTime>5</warmupTime>
				  <range>62</range>
				  <ticksBetweenBurstShots>20</ticksBetweenBurstShots>
				  <burstShotCount>3</burstShotCount>
				  <soundCast>InfernoCannon_Fire</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <onlyManualCast>true</onlyManualCast>
				  <stopBurstWithoutLos>false</stopBurstWithoutLos>
				  <targetParams>
				    <canTargetLocations>true</canTargetLocations>
				  </targetParams>
				  <muzzleFlashScale>14</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_TripleRocket"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_TripleRocket"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aimedBurstShotCount>1</aimedBurstShotCount>
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			  <noSingleShot>true</noSingleShot>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_TripleRocket"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_TripleRocket"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Launcher</li>
		</value>
	</Operation>

	<!-- Add recipe -->

	<Operation Class="PatchOperationRemove">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]/statBases/MarketValue</xpath>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_TripleRocket"]</xpath>
		<value>
			<recipeMaker>
			  <researchPrerequisite>LargeRockets</researchPrerequisite>
			</recipeMaker>
			<costList>
			  <Steel>120</Steel>
			  <Component>8</Component>
			  <FSX>3</FSX>
			</costList>
		</value>
	</Operation>

	<!-- ========== Heavy charge blaster ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/statBases/Mass</xpath>
		<value>
      <Mass>25.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.25</SightsEfficiency>
      <ShotSpread>0.04</ShotSpread>
      <SwayFactor>4.50</SwayFactor>
      <Bulk>24.00</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <recoilPattern>Mounted</recoilPattern>
				  <recoilAmount>0.54</recoilAmount>
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_12x64mmCharged</projectileDef>
				  <forcedMissRadius>2.9</forcedMissRadius>
				  <warmupTime>3</warmupTime>
				  <range>68</range>
				  <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
				  <burstShotCount>20</burstShotCount>
				  <soundCast>ShotChargeBlaster</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/comps</xpath>
		<value>
      <li Class="CombatExtended.CompProperties_AmmoUser">
        <magazineSize>100</magazineSize>
        <reloadTicks>300</reloadTicks>
        <ammoSet>AmmoSet_12x64mmCharged</ammoSet>
      </li>
      <li Class="CombatExtended.CompProperties_FireModes">
        <aimedBurstShotCount>10</aimedBurstShotCount>
        <aiUseBurstMode>FALSE</aiUseBurstMode>
        <aiUseAimMode>TRUE</aiUseAimMode>
      </li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeBlasterHeavy"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Suppressive</li>
		</value>
	</Operation>

	<!-- ========== Inferno cannon ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/statBases/Mass</xpath>
		<value>
      <Mass>100.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.25</SightsEfficiency>
      <ShotSpread>0.1</ShotSpread>
      <SwayFactor>15.50</SwayFactor>
      <Bulk>37.50</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_80x256mmFuel_Thermobaric</projectileDef>
				  <ai_IsIncendiary>true</ai_IsIncendiary>
				  <warmupTime>4</warmupTime>
				  <range>62</range>
				  <burstShotCount>1</burstShotCount>
				  <soundCast>InfernoCannon_Fire</soundCast>
				  <soundCastTail>GunTail_Light</soundCastTail>
				  <muzzleFlashScale>14</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_InfernoCannon"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>1</magazineSize>
			  <reloadTicks>600</reloadTicks>
			  <ammoSet>AmmoSet_80x256mmFuel</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_InfernoCannon"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_InfernoCannon"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Launcher</li>
		</value>
	</Operation>

	<!-- ========== Charge lance ========== -->

	<!-- Patch stats -->

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeLance"]/statBases/Mass</xpath>
		<value>
      <Mass>7.00</Mass>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeLance"]/statBases/RangedWeapon_Cooldown</xpath>
		<value>
      <RangedWeapon_Cooldown>0.5</RangedWeapon_Cooldown>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeLance"]/statBases</xpath>
		<value>
      <SightsEfficiency>1.25</SightsEfficiency>
      <ShotSpread>0.017</ShotSpread>
      <SwayFactor>2.30</SwayFactor>
      <Bulk>18.00</Bulk>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName="Gun_ChargeLance"]/verbs</xpath>
		<value>
			<verbs>
				<li Class="CombatExtended.VerbPropertiesCE">
				  <verbClass>CombatExtended.Verb_ShootCE</verbClass>
				  <hasStandardCommand>true</hasStandardCommand>
				  <projectileDef>Bullet_5x35mmCharged</projectileDef>
				  <warmupTime>1.4</warmupTime>
				  <range>81</range>
				  <burstShotCount>1</burstShotCount>
				  <soundCast>ChargeLance_Fire</soundCast>
				  <soundCastTail>GunTail_Heavy</soundCastTail>
				  <muzzleFlashScale>9</muzzleFlashScale>
				</li>
			</verbs>
		</value>
	</Operation>

	<!-- Add comps -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChargeLance"]/comps</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChargeLance"]</xpath>
      	<value>
        	<comps />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeLance"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_AmmoUser">
			  <magazineSize>0</magazineSize>
			  <ammoSet>AmmoSet_5x35mmCharged</ammoSet>
			</li>
			<li Class="CombatExtended.CompProperties_FireModes">
			  <aiUseBurstMode>FALSE</aiUseBurstMode>
			  <aiUseAimMode>TRUE</aiUseAimMode>
			</li>
		</value>
	</Operation>

	<!-- Add tags -->

	<Operation Class="PatchOperationSequence">
  	<success>Always</success>
  	<operations>
    	<li Class="PatchOperationTest">
      	<xpath>*/ThingDef[defName="Gun_ChargeLance"]/weaponTags</xpath>
      	<success>Invert</success>
    	</li>
    	<li Class="PatchOperationAdd">
      	<xpath>*/ThingDef[defName="Gun_ChargeLance"]</xpath>
      	<value>
        	<weaponTags />
      	</value>
    	</li>
  	</operations>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName="Gun_ChargeLance"]/weaponTags</xpath>
		<value>
			<li>CE_AI_Rifle</li>
		</value>
	</Operation>

</Patch>

