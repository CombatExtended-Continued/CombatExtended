<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Biomes! Caverns</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<!-- Remove RoyalRhinohorn and Spiderhead as a weapon -->
				<li Class="PatchOperationRemove">
					<xpath>Defs/ThingDef[defName="BMT_RoyalRhinoHorn" or defName="BMT_CaveSpiderHead"]/tools</xpath>
				</li>

				<li Class="PatchOperationRemove">
					<xpath>Defs/ThingDef[defName="BMT_RoyalRhinoHorn" or defName="BMT_CaveSpiderHead"]/weaponClasses</xpath>
				</li>

				<li Class="PatchOperationAttributeSet">
					<xpath>Defs/ThingDef[defName="BMT_RoyalRhinoHorn" or defName="BMT_CaveSpiderHead"]</xpath>
					<attribute>ParentName</attribute>
					<value>ResourceBase</value>
				</li>

				<!-- MothSilk -->
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_CrimsonSilk"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.09</StuffPower_Armor_Blunt>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_CrimsonSilk"]/statBases/StuffPower_Armor_Heat</xpath>
					<value>
						<StuffPower_Armor_Heat>0.015</StuffPower_Armor_Heat>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="BMT_CrimsonSilk"]/statBases</xpath>
					<value>
						<Bulk>0.025</Bulk>
					</value>
				</li>
				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="BMT_CrimsonSilk"]/stuffProps/categories</xpath>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="BMT_CrimsonSilk"]/stuffProps</xpath>
						<value>
							<categories>
								<li>SoftArmor</li>
							</categories>
						</value>
					</nomatch>
					<match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="BMT_CrimsonSilk"]/stuffProps/categories</xpath>
						<value>
							<li>SoftArmor</li>
						</value>
					</match>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_BatWool"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>0.04</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_BatWool"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.05</StuffPower_Armor_Blunt>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_BatWool"]/statBases/StuffPower_Armor_Heat</xpath>
					<value>
						<StuffPower_Armor_Heat>0.06</StuffPower_Armor_Heat>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>0.5</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.12</StuffPower_Armor_Blunt>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/statBases/StuffPower_Armor_Heat</xpath>
					<value>
						<StuffPower_Armor_Heat>0.06</StuffPower_Armor_Heat>
					</value>
				</li>

				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/stuffProps/categories</xpath>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/stuffProps</xpath>
						<value>
							<categories>
								<li>SoftArmor</li>
							</categories>
						</value>
					</nomatch>
					<match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/stuffProps/categories</xpath>
						<value>
							<li>SoftArmor</li>
						</value>
					</match>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="BMT_SpiderSilk"]/statBases</xpath>
					<value>
						<Bulk>0.025</Bulk>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_WeakChitin"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>0.21</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_MediumChitin"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>1.1</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_MediumChitin"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.5</StuffPower_Armor_Blunt>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_WeakChitin"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.09</StuffPower_Armor_Blunt>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_CrystalChitin"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>1.7</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_CrystalChitin"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.9</StuffPower_Armor_Blunt>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_RoyalChitin"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>2.2</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_RoyalChitin"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>1.1</StuffPower_Armor_Blunt>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_DeepChitin"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>2.0</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_DeepChitin"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.95</StuffPower_Armor_Blunt>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_Leather_Mushroom"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>0.03</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_Leather_Mushroom"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.032</StuffPower_Armor_Blunt>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_MoonlessSilk"]/statBases/StuffPower_Armor_Sharp</xpath>
					<value>
						<StuffPower_Armor_Sharp>0.25</StuffPower_Armor_Sharp>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>Defs/ThingDef[defName="BMT_MoonlessSilk"]/statBases/StuffPower_Armor_Blunt</xpath>
					<value>
						<StuffPower_Armor_Blunt>0.4</StuffPower_Armor_Blunt>
					</value>
				</li>

			</operations>
		</match>
	</Operation>
</Patch>