<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Alpha Mechs</li>
		</mods>

		<match Class="PatchOperationFindMod">
			<mods>
				<li>Biotech</li>
			</mods>

			<match Class="PatchOperationSequence">
				<operations>

					<!-- Mech Master Helmet -->

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/statBases</xpath>
						<value>
							<Bulk>5</Bulk>
							<WornBulk>1</WornBulk>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/statBases/Flammability</xpath>
						<value>
							<Flammability>0</Flammability>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/statBases/Mass</xpath>
						<value>
							<Mass>4.8</Mass>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/statBases/MaxHitPoints</xpath>
						<value>
							<MaxHitPoints>350</MaxHitPoints>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/statBases/ArmorRating_Sharp</xpath>
						<value>
							<ArmorRating_Sharp>16</ArmorRating_Sharp>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/statBases/ArmorRating_Blunt</xpath>
						<value>
							<ArmorRating_Blunt>36</ArmorRating_Blunt>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/costList/Plasteel</xpath>
						<value>
							<Plasteel>200</Plasteel>
							<DevilstrandCloth>20</DevilstrandCloth>
						</value>
					</li>

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderHelm"]/equippedStatOffsets</xpath>
						<value>
							<ToxicEnvironmentResistance>0.5</ToxicEnvironmentResistance>
							<SmokeSensitivity>-1</SmokeSensitivity>
						</value>
					</li>

					<!-- Mech Breaker Helmet -->

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/statBases</xpath>
						<value>
							<Bulk>6</Bulk>
							<WornBulk>2</WornBulk>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/statBases/Flammability</xpath>
						<value>
							<Flammability>0</Flammability>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/statBases/Mass</xpath>
						<value>
							<Mass>6</Mass>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/statBases/MaxHitPoints</xpath>
						<value>
							<MaxHitPoints>350</MaxHitPoints>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/statBases/ArmorRating_Sharp</xpath>
						<value>
							<ArmorRating_Sharp>20</ArmorRating_Sharp>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/statBases/ArmorRating_Blunt</xpath>
						<value>
							<ArmorRating_Blunt>50</ArmorRating_Blunt>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/costList/Plasteel</xpath>
						<value>
							<Plasteel>60</Plasteel>
							<DevilstrandCloth>25</DevilstrandCloth>
						</value>
					</li>

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerHelm"]/equippedStatOffsets</xpath>
						<value>
							<ToxicEnvironmentResistance>0.5</ToxicEnvironmentResistance>
							<SmokeSensitivity>-1</SmokeSensitivity>
						</value>
					</li>

					<!-- Mech Master Armor -->

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderSuit"]/statBases</xpath>
						<value>
							<Bulk>100</Bulk>
							<WornBulk>15</WornBulk>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderSuit"]/statBases/ArmorRating_Sharp</xpath>
						<value>
							<ArmorRating_Sharp>20.5</ArmorRating_Sharp>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderSuit"]/statBases/ArmorRating_Blunt</xpath>
						<value>
							<ArmorRating_Blunt>46</ArmorRating_Blunt>
						</value>
					</li>

					<li Class="PatchOperationRemove">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderSuit"]/equippedStatOffsets/MoveSpeed</xpath>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechCommanderSuit"]/costList/Plasteel</xpath>
						<value>
							<Plasteel>200</Plasteel>
							<DevilstrandCloth>40</DevilstrandCloth>
						</value>
					</li>

					<!-- Mech Breaker Armor -->

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/statBases</xpath>
						<value>
							<Bulk>100</Bulk>
							<WornBulk>20</WornBulk>
							<Mass>80</Mass>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/statBases/ArmorRating_Sharp</xpath>
						<value>
							<ArmorRating_Sharp>26</ArmorRating_Sharp>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/statBases/ArmorRating_Blunt</xpath>
						<value>
							<ArmorRating_Blunt>60</ArmorRating_Blunt>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/statBases/EnergyShieldRechargeRate</xpath>
						<value>
							<EnergyShieldRechargeRate>0.03</EnergyShieldRechargeRate>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/statBases/EnergyShieldEnergyMax</xpath>
						<value>
							<EnergyShieldEnergyMax>0.6</EnergyShieldEnergyMax>
						</value>
					</li>

					<li Class="PatchOperationRemove">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/equippedStatOffsets/MoveSpeed</xpath>
					</li>

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/equippedStatOffsets</xpath>
						<value>
							<CarryWeight>100</CarryWeight>
							<CarryBulk>20</CarryBulk>
							<ToxicEnvironmentResistance>0.5</ToxicEnvironmentResistance>
							<MeleeDodgeChance>-0.15</MeleeDodgeChance>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/costList/Plasteel</xpath>
						<value>
							<Plasteel>270</Plasteel>
							<DevilstrandCloth>40</DevilstrandCloth>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_MechBreakerArmor"]/costList/Uranium</xpath>
						<value>
							<Uranium>80</Uranium>
						</value>
					</li>

					<!-- Packs -->

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[
							defName="AM_BeamcasterPack" or
							defName="AM_VoidlinkPack" or
							defName="AM_CryptoPack"
							]/apparel/bodyPartGroups </xpath>
						<value>
							<li>Shoulders</li>
						</value>
					</li>

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[
							defName="AM_BeamcasterPack" or
							defName="AM_VoidlinkPack" or
							defName="AM_CryptoPack"
							]/apparel/layers </xpath>
						<value>
							<li>Backpack</li>
						</value>
					</li>

					<li Class="PatchOperationAdd">
						<xpath>
							Defs/ThingDef[
							defName="AM_BeamcasterPack" or
							defName="AM_VoidlinkPack" or
							defName="AM_CryptoPack"
							]/statBases
						</xpath>
						<value>
							<Bulk>10</Bulk>
							<WornBulk>2</WornBulk>
						</value>
					</li>

					<!-- Mech Shield -->

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="AM_Apparel_ExpandedHeavyShield"]/statBases</xpath>
						<value>
							<Bulk>5</Bulk>
							<WornBulk>2.5</WornBulk>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_Apparel_ExpandedHeavyShield"]/statBases/EnergyShieldRechargeRate</xpath>
						<value>
							<EnergyShieldRechargeRate>0.0195</EnergyShieldRechargeRate>
						</value>
					</li>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="AM_Apparel_ExpandedHeavyShield"]/statBases/EnergyShieldEnergyMax</xpath>
						<value>
							<EnergyShieldEnergyMax>6</EnergyShieldEnergyMax>
						</value>
					</li>

				</operations>
			</match>
		</match>
	</Operation>

</Patch>